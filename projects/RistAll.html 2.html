<!doctype html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <title>Editor Passport NFT</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    /* VARIABEL WARNA & GLOBAL STYLING */
    :root {
      --main-bg: #f6f8fb;
      --primary: #2242c7;
      --accent: #18b875;
      --passport: #40485a;
      --danger: #e94353;
      --success: #2bc01e;
      --font-main: "Segoe UI", Arial, sans-serif;
      --font-mono: Menlo, Consolas, monospace;
      --border: 1.5px solid #e3e7ed;
    }
    
    body {
      background: var(--main-bg);
      font-family: var(--font-main);
      margin: 0;
      color: #232536;
      font-size: 17px;
      overflow-x: hidden;
    }
    
    /* LAYOUT EDITOR */
    .editor-container {
      display: grid;
      grid-template-columns: 280px 1fr 280px;
      gap: 20px;
      height: 100vh;
      padding: 15px;
      box-sizing: border-box;
    }
    
    /* SIDEBAR KIRI - TOOLBOX */
    .editor-toolbox {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      padding: 20px;
      overflow-y: auto;
    }
    
    .toolbox-section {
      margin-bottom: 25px;
      padding-bottom: 15px;
      border-bottom: 1px solid #eee;
    }
    
    .toolbox-title {
      font-size: 1.3rem;
      color: var(--primary);
      margin: 0 0 15px 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .toolbox-title i {
      font-size: 1.2em;
    }
    
    .tool-item {
      background: #f8f9ff;
      border: 1px solid #e0e5ff;
      border-radius: 10px;
      padding: 12px 15px;
      margin-bottom: 10px;
      cursor: pointer;
      transition: all 0.2s;
    }
    
    .tool-item:hover {
      background: #eef1ff;
      transform: translateY(-2px);
    }
    
    /* AREA PREVIEW UTAMA */
    .editor-preview {
      display: flex;
      flex-direction: column;
      background: #f0f2f5;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: inset 0 0 15px rgba(0,0,0,0.05);
      position: relative;
    }
    
    .preview-header {
      background: #fff;
      padding: 15px 25px;
      border-bottom: 1px solid #eaeaea;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .preview-area {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: auto;
      padding: 20px;
    }
    
    /* SIDEBAR KANAN - PROPERTI */
    .editor-properties {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      padding: 20px;
      overflow-y: auto;
    }
    
    .property-group {
      margin-bottom: 25px;
    }
    
    .property-title {
      font-size: 1.1rem;
      color: var(--passport);
      margin: 0 0 15px 0;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .property-control {
      margin-bottom: 15px;
    }
    
    .property-control label {
      display: block;
      margin-bottom: 6px;
      font-weight: 500;
      color: #555;
    }
    
    .property-control input[type="text"],
    .property-control input[type="color"],
    .property-control input[type="url"],
    .property-control select {
      width: 100%;
      padding: 10px 12px;
      border: 1px solid #ddd;
      border-radius: 8px;
      font-family: var(--font-main);
      font-size: 1em;
    }
    
    .color-preview {
      width: 30px;
      height: 30px;
      border-radius: 6px;
      display: inline-block;
      vertical-align: middle;
      margin-left: 10px;
      border: 1px solid #ddd;
    }
    
    /* PASSPORT PREVIEW */
    .passport-container {
      background: #fff;
      border-radius: 24px;
      box-shadow: 0 7px 36px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 650px;
      overflow: hidden;
      transform: scale(0.85);
      transition: transform 0.3s;
    }
    
    .passport-container.editing {
      transform: scale(0.95);
      box-shadow: 0 10px 50px rgba(0,0,0,0.2);
    }
    
    .editable {
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }
    
    .editable:hover {
      outline: 2px dashed var(--accent);
    }
    
    .editable.active {
      outline: 2px solid var(--primary);
      background: rgba(34, 66, 199, 0.05);
    }
    
    /* BUTTONS & CONTROLS */
    .btn {
      background: var(--primary);
      color: white;
      border: none;
      border-radius: 8px;
      padding: 10px 20px;
      font-size: 1em;
      font-weight: 500;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s;
    }
    
    .btn:hover {
      background: #1a36b0;
      transform: translateY(-2px);
    }
    
    .btn-secondary {
      background: #f0f2f5;
      color: #555;
    }
    
    .btn-icon {
      padding: 8px 12px;
    }
    
    /* UTILITY CLASSES */
    .hidden {
      display: none !important;
    }
    
    .icon {
      font-size: 1.2em;
    }
  </style>
</head>
<body>
  <div class="editor-container">
    <!-- SIDEBAR KIRI - TOOLBOX -->
    <div class="editor-toolbox">
      <div class="toolbox-section">
        <h2 class="toolbox-title">üìÅ File</h2>
        <div class="tool-item" id="btn-new">
          <i class="icon">üÜï</i> Desain Baru
        </div>
        <div class="tool-item" id="btn-save">
          <i class="icon">üíæ</i> Simpan Desain
        </div>
        <div class="tool-item" id="btn-load">
          <i class="icon">üìÇ</i> Muat Desain
        </div>
        <div class="tool-item" id="btn-export">
          <i class="icon">üì§</i> Ekspor HTML
        </div>
      </div>
      
      <div class="toolbox-section">
        <h2 class="toolbox-title">‚úèÔ∏è Elemen</h2>
        <div class="tool-item" data-element="text">
          <i class="icon">üî§</i> Tambah Teks
        </div>
        <div class="tool-item" data-element="image">
          <i class="icon">üñºÔ∏è</i> Tambah Gambar
        </div>
        <div class="tool-item" data-element="badge">
          <i class="icon">ü™ô</i> Tambah Badge
        </div>
        <div class="tool-item" data-element="divider">
          <i class="icon">‚ûñ</i> Tambah Garis
        </div>
      </div>
      
      <div class="toolbox-section">
        <h2 class="toolbox-title">üé® Tema</h2>
        <div class="tool-item" data-theme="default">
          <i class="icon">üé®</i> Tema Default
        </div>
        <div class="tool-item" data-theme="dark">
          <i class="icon">üåô</i> Tema Gelap
        </div>
        <div class="tool-item" data-theme="professional">
          <i class="icon">üëî</i> Tema Profesional
        </div>
        <div class="tool-item" data-theme="vibrant">
          <i class="icon">üåà</i> Tema Cerah
        </div>
      </div>
    </div>
    
    <!-- AREA PREVIEW UTAMA -->
    <div class="editor-preview">
      <div class="preview-header">
        <h2 style="margin:0;">Editor Passport NFT</h2>
        <div>
          <button class="btn btn-secondary btn-icon" id="btn-zoom-out">üîç‚ûñ</button>
          <button class="btn btn-secondary btn-icon" id="btn-zoom-reset">üîç100%</button>
          <button class="btn btn-secondary btn-icon" id="btn-zoom-in">üîç‚ûï</button>
        </div>
      </div>
      <div class="preview-area">
        <!-- PASSPORT PREVIEW AKAN DIMASUKKAN DI SINI -->
        <div id="passport-preview"></div>
      </div>
    </div>
    
    <!-- SIDEBAR KANAN - PROPERTI -->
    <div class="editor-properties">
      <div class="property-group">
        <h3 class="property-title">‚öôÔ∏è Properti Elemen</h3>
        <div class="property-control">
          <label>Jenis Elemen</label>
          <input type="text" id="element-type" readonly>
        </div>
        <div class="property-control" id="text-content-control">
          <label>Konten</label>
          <input type="text" id="element-content">
        </div>
        <div class="property-control" id="image-url-control">
          <label>URL Gambar</label>
          <input type="url" id="element-image">
        </div>
        <div class="property-control">
          <label>Warna Teks</label>
          <div style="display:flex;gap:10px;">
            <input type="color" id="element-color" value="#40485a">
            <span id="color-value">#40485a</span>
            <div class="color-preview" id="color-preview" style="background:#40485a"></div>
          </div>
        </div>
        <div class="property-control">
          <label>Ukuran Font</label>
          <select id="element-font-size">
            <option value="1em">Normal</option>
            <option value="1.2em">Sedang</option>
            <option value="1.4em">Besar</option>
            <option value="0.9em">Kecil</option>
          </select>
        </div>
      </div>
      
      <div class="property-group">
        <h3 class="property-title">üé® Warna Global</h3>
        <div class="property-control">
          <label>Background Utama</label>
          <input type="color" id="global-bg" value="#f6f8fb">
        </div>
        <div class="property-control">
          <label>Warna Primer</label>
          <input type="color" id="global-primary" value="#2242c7">
        </div>
        <div class="property-control">
          <label>Warna Aksen</label>
          <input type="color" id="global-accent" value="#18b875">
        </div>
        <div class="property-control">
          <label>Warna Teks</label>
          <input type="color" id="global-text" value="#40485a">
        </div>
      </div>
      
      <div class="property-group">
        <h3 class="property-title">üíæ Simpan & Ekspor</h3>
        <button class="btn" id="btn-apply-changes">
          <i class="icon">‚úì</i> Terapkan Perubahan
        </button>
        <button class="btn" id="btn-reset-element">
          <i class="icon">‚Ü∫</i> Reset Elemen
        </button>
        <button class="btn btn-secondary" id="btn-delete-element">
          <i class="icon">üóëÔ∏è</i> Hapus Elemen
        </button>
      </div>
    </div>
  </div>

  <script>
    // Data desain saat ini
    let currentDesign = {
      elements: {},
      theme: {
        mainBg: '#f6f8fb',
        primary: '#2242c7',
        accent: '#18b875',
        passport: '#40485a'
      }
    };
    
    // Elemen yang sedang dipilih
    let selectedElement = null;
    
    // Fungsi inisialisasi editor
    function initEditor() {
      // Load template passport
      loadTemplate();
      
      // Setup event listeners
      setupEventListeners();
      
      // Set default theme
      updateGlobalTheme();
    }
    
    // Load template passport HTML
    function loadTemplate() {
      const template = `<!-- TEMPLATE PASSPORT -->
      <div class="passport-container">
        <div class="passport-header">
          <div class="passport-icon editable" data-id="icon">üõÇ</div>
          <div class="passport-title editable" data-id="title">NFT Passport: Research Identity</div>
          <span class="passport-tag editable" data-id="tag">2BCycle Registry</span>
          <div class="editable" data-id="subtitle" style="font-size: 1.08em; margin-top: 6px">
            powered by Blockchain Base &amp; ORCID
          </div>
        </div>
        
        <div class="passport-content">
          <div class="nft-meta-section">
            <img src="https://ipfs.io/ipfs/bafybeihnr7gijvk3fj5yc2iuymgyulixdsnkejksly5yx3ahqjx6tkf3ra/NFT_Riset_ORCID.png" 
                 class="nft-img editable" 
                 data-id="nft-image"
                 alt="NFT Research Identity" />
            
            <div class="nft-badge editable" data-id="badge1">NFT Credential</div>
            <span class="nft-badge editable" data-id="badge2" style="background: var(--accent)">Verified</span>
            
            <div class="nft-attributes">
              <ul>
                <li class="editable" data-id="name"><b>Nama:</b> Muhamad Oky Muhisin</li>
                <li class="editable" data-id="community"><b>Komunitas:</b> Nyampah Bersama</li>
                <li class="editable" data-id="orcid"><b>ORCID:</b> 0009-0003-5705-8107</li>
                <li class="editable" data-id="registry"><b>Registry:</b> 2BCycle Research Registry</li>
                <li class="editable" data-id="type"><b>Tipe Credential:</b> Decentralized Academic Identity</li>
                <li class="editable" data-id="date"><b>Issued:</b> 10 July 2025</li>
              </ul>
            </div>
            
            <a class="nft-link editable" data-id="link1" href="#" target="_blank">Lihat NFT di Explorer</a><br />
            <a class="nft-link editable" data-id="link2" href="#" target="_blank">Metadata di IPFS</a>
            
            <div class="qr-section">
              <div class="editable" data-id="qr-text"><b>Scan to verify:</b></div>
              <img src="https://api.qrserver.com/v1/create-qr-code/?size=103x103&data=https://example.com" 
                   class="editable" 
                   data-id="qr-image"
                   alt="QR NFT" />
            </div>
          </div>
          
          <div style="flex: 2">
            <div class="section-title editable" data-id="utility-title">Fungsi & Utility NFT Passport</div>
            
            <div class="passport-utility-block editable" data-id="utility1">
              <div class="utility-title">Bukti Keikutsertaan Proyek/Komunitas</div>
              <div class="utility-desc">Bagikan NFT ini sebagai bukti digital anggota aktif di komunitas atau riset.</div>
            </div>
            
            <div class="passport-utility-block editable" data-id="utility2">
              <div class="utility-title">Traceability & Metadata Akademik Onchain</div>
              <div class="utility-desc">Semua atribut tercatat transparan di IPFS & Blockchain.</div>
            </div>
            
            <div class="passport-utility-block editable" data-id="utility3">
              <div class="utility-title">Bukti Ownership & Rekam Jejak Open</div>
              <div class="utility-desc">Riwayat kepemilikan dapat diakses publik.</div>
            </div>
          </div>
        </div>
        
        <div style="padding: 18px 28px 5px 28px">
          <div class="section-title editable" data-id="code-title">Kode Verifikasi Onchain (Python)</div>
          <div class="code-section">
            <pre class="editable" data-id="code-content">from web3 import Web3
# ... contoh kode ...</pre>
          </div>
        </div>
        
        <div class="passport-footer editable" data-id="footer">
          NFT 2BCycle Registry | ERC-721 Smart Contract: 0xDD4BEa21...DC2869
        </div>
      </div>`;
      
      document.getElementById('passport-preview').innerHTML = template;
      initEditableElements();
    }
    
    // Inisialisasi elemen yang bisa diedit
    function initEditableElements() {
      const editables = document.querySelectorAll('.editable');
      
      editables.forEach(el => {
        el.addEventListener('click', function(e) {
          e.stopPropagation();
          
          // Hapus seleksi sebelumnya
          if (selectedElement) {
            selectedElement.classList.remove('active');
          }
          
          // Set elemen baru yang dipilih
          selectedElement = this;
          this.classList.add('active');
          
          // Isi panel properti
          populatePropertiesPanel(this);
        });
      });
    }
    
    // Isi panel properti dengan data elemen
    function populatePropertiesPanel(element) {
      const type = element.tagName.toLowerCase();
      const id = element.dataset.id || '';
      
      // Set tipe elemen
      document.getElementById('element-type').value = `${type}${id ? ` (${id})` : ''}`;
      
      // Konten khusus tipe elemen
      if (type === 'img') {
        document.getElementById('element-image').value = element.src;
        document.getElementById('image-url-control').classList.remove('hidden');
        document.getElementById('text-content-control').classList.add('hidden');
      } else {
        document.getElementById('element-content').value = 
          type === 'input' ? element.value : element.textContent;
        document.getElementById('text-content-control').classList.remove('hidden');
        document.getElementById('image-url-control').classList.add('hidden');
      }
      
      // Warna
      const color = getComputedStyle(element).color;
      document.getElementById('element-color').value = rgbToHex(color);
      document.getElementById('color-value').textContent = rgbToHex(color);
      document.getElementById('color-preview').style.backgroundColor = color;
      
      // Ukuran font
      const fontSize = getComputedStyle(element).fontSize;
      document.getElementById('element-font-size').value = fontSize;
    }
    
    // Konversi RGB ke Hex
    function rgbToHex(rgb) {
      const match = rgb.match(/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/);
      if (!match) return '#000000';
      
      const r = parseInt(match[1]).toString(16).padStart(2, '0');
      const g = parseInt(match[2]).toString(16).padStart(2, '0');
      const b = parseInt(match[3]).toString(16).padStart(2, '0');
      
      return `#${r}${g}${b}`;
    }
    
    // Update tema global
    function updateGlobalTheme() {
      document.documentElement.style.setProperty('--main-bg', currentDesign.theme.mainBg);
      document.documentElement.style.setProperty('--primary', currentDesign.theme.primary);
      document.documentElement.style.setProperty('--accent', currentDesign.theme.accent);
      document.documentElement.style.setProperty('--passport', currentDesign.theme.passport);
      
      // Update input color pickers
      document.getElementById('global-bg').value = currentDesign.theme.mainBg;
      document.getElementById('global-primary').value = currentDesign.theme.primary;
      document.getElementById('global-accent').value = currentDesign.theme.accent;
      document.getElementById('global-text').value = currentDesign.theme.passport;
    }
    
    // Setup event listeners
    function setupEventListeners() {
      // Event untuk elemen yang bisa diedit
      document.addEventListener('click', (e) => {
        if (!e.target.classList.contains('editable') && selectedElement) {
          selectedElement.classList.remove('active');
          selectedElement = null;
        }
      });
      
      // Event untuk properti elemen
      document.getElementById('element-content').addEventListener('input', function() {
        if (selectedElement) {
          if (selectedElement.tagName === 'INPUT') {
            selectedElement.value = this.value;
          } else {
            selectedElement.textContent = this.value;
          }
        }
      });
      
      document.getElementById('element-image').addEventListener('input', function() {
        if (selectedElement && selectedElement.tagName === 'IMG') {
          selectedElement.src = this.value;
        }
      });
      
      document.getElementById('element-color').addEventListener('input', function() {
        if (selectedElement) {
          selectedElement.style.color = this.value;
          document.getElementById('color-value').textContent = this.value;
          document.getElementById('color-preview').style.backgroundColor = this.value;
        }
      });
      
      document.getElementById('element-font-size').addEventListener('change', function() {
        if (selectedElement) {
          selectedElement.style.fontSize = this.value;
        }
      });
      
      // Event untuk tema global
      document.getElementById('global-bg').addEventListener('input', function() {
        currentDesign.theme.mainBg = this.value;
        updateGlobalTheme();
      });
      
      document.getElementById('global-primary').addEventListener('input', function() {
        currentDesign.theme.primary = this.value;
        updateGlobalTheme();
      });
      
      document.getElementById('global-accent').addEventListener('input', function() {
        currentDesign.theme.accent = this.value;
        updateGlobalTheme();
      });
      
      document.getElementById('global-text').addEventListener('input', function() {
        currentDesign.theme.passport = this.value;
        updateGlobalTheme();
      });
      
      // Event untuk tombol aksi
      document.getElementById('btn-apply-changes').addEventListener('click', function() {
        alert('Perubahan diterapkan!');
      });
      
      document.getElementById('btn-delete-element').addEventListener('click', function() {
        if (selectedElement && confirm('Hapus elemen ini?')) {
          selectedElement.remove();
          selectedElement = null;
        }
      });
      
      // Event untuk toolbox
      document.querySelectorAll('.tool-item[data-theme]').forEach(item => {
        item.addEventListener('click', function() {
          const theme = this.dataset.theme;
          
          switch(theme) {
            case 'dark':
              currentDesign.theme = {
                mainBg: '#1a1a2e',
                primary: '#6a67ce',
                accent: '#0f3460',
                passport: '#e6e6e6'
              };
              break;
            case 'professional':
              currentDesign.theme = {
                mainBg: '#f0f2f5',
                primary: '#2c3e50',
                accent: '#3498db',
                passport: '#2c3e50'
              };
              break;
            case 'vibrant':
              currentDesign.theme = {
                mainBg: '#fff8e1',
                primary: '#ff5722',
                accent: '#ff9800',
                passport: '#5d4037'
              };
              break;
            default:
              currentDesign.theme = {
                mainBg: '#f6f8fb',
                primary: '#2242c7',
                accent: '#18b875',
                passport: '#40485a'
              };
          }
          
          updateGlobalTheme();
          alert(`Tema "${theme}" diterapkan!`);
        });
      });
      
      // Event untuk zoom
      const passportContainer = document.querySelector('.passport-container');
      let currentZoom = 0.85;
      
      document.getElementById('btn-zoom-in').addEventListener('click', function() {
        currentZoom = Math.min(currentZoom + 0.1, 1.2);
        passportContainer.style.transform = `scale(${currentZoom})`;
      });
      
      document.getElementById('btn-zoom-out').addEventListener('click', function() {
        currentZoom = Math.max(currentZoom - 0.1, 0.5);
        passportContainer.style.transform = `scale(${currentZoom})`;
      });
      
      document.getElementById('btn-zoom-reset').addEventListener('click', function() {
        currentZoom = 0.85;
        passportContainer.style.transform = `scale(${currentZoom})`;
      });
    }
    
    // Inisialisasi editor saat halaman dimuat
    window.addEventListener('DOMContentLoaded', initEditor);
  </script>
</body>
</html>



<!doctype html>
<html lang="id">
<head>
</style>
  <script src="https://unpkg.com/@supabase/supabase-js@2"></script>
</head>
<body>
  <div class="container">
    <header>
      <h1>‚úçÔ∏è Editor Notion + Supabase</h1>
      <p>Simpan kontenmu di cloud dan akses di mana saja!</p>
    </header>
    
    <div id="editor">
      <div contenteditable="true" class="block">‚ú® Selamat datang di editor Notion-style versi kamu! ü•∞</div>
      <div contenteditable="true" class="block">üìù Klik tombol di bawah untuk menambahkan berbagai jenis konten...</div>
    </div>
    
    <div class="controls">
      <button onclick="addBlock('text')">
        <i>üìù</i> Teks
      </button>
      <button onclick="addBlock('heading')">
        <i>üî§</i> Heading
      </button>
      <button onclick="addBlock('list')">
        <i>üìã</i> List
      </button>
      <button onclick="addBlock('image')">
        <i>üñºÔ∏è</i> Gambar
      </button>
      <button onclick="addBlock('embed')">
        <i>üåê</i> Embed
      </button>
      <button onclick="startCamera()">
        <i>üì∑</i> Selfie
      </button>
      <button onclick="saveContent()" style="background:#10b981;">
        <i>üíæ</i> Simpan ke Cloud
      </button>
      <button onclick="loadContent()" class="secondary">
        <i>üìÇ</i> Muat dari Cloud
      </button>
      <button onclick="downloadContent()" style="background:#007bff;">
        <i>‚¨áÔ∏è</i> Unduh HTML
      </button>
    </div>
    
    <div id="doc-id">
      <p>ID Dokumen:</p>
      <input type="text" id="doc-id-input" placeholder="Kosongkan untuk dokumen baru">
    </div>
    
    <div class="camera-container">
      <video id="video" autoplay playsinline style="display:none;"></video>
      <canvas id="canvas" style="display:none;"></canvas>
      <div class="camera-actions">
        <button id="capture-btn" style="display:none;" onclick="capturePhoto()">
          <i>üì∏</i> Ambil Foto
        </button>
        <button id="close-camera" style="display:none;" onclick="closeCamera()">
          <i>‚ùå</i> Tutup Kamera
        </button>
      </div>
    </div>
  </div>
  
  <div class="notification" id="notification">Pesan notifikasi</div>

  <script>
    // Inisialisasi Supabase
    // PENTING: GANTI DENGAN KUNCI SUPABASE ANDA YANG SEBENARNYA!
    const SUPABASE_URL = 'https://YOUR_SUPABASE_ID.supabase.co';
    const SUPABASE_KEY = 'YOUR_SUPABASE_ANON_KEY';
    const supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_KEY);
    
    let currentDocId = '';
    const notification = document.getElementById('notification');
    
    // Fungsi untuk menampilkan notifikasi
    function showNotification(message, isSuccess = true) {
      notification.textContent = message;
      notification.style.background = isSuccess ? '#4caf50' : '#f44336';
      notification.classList.add('show');
      
      setTimeout(() => {
        notification.classList.remove('show');
      }, 3000);
    }
    
    // Fungsi untuk menambahkan blok konten
    function addBlock(type) {
      const editor = document.getElementById("editor");
      const block = document.createElement("div");
      block.className = "block";
      block.contentEditable = true;
      block.setAttribute('data-type', type);

      if (type === "heading") {
        block.innerHTML = "Judul Section";
        block.style.fontSize = "24px";
        block.style.fontWeight = "bold";
      } else if (type === "list") {
        block.innerHTML = "‚Ä¢ Item 1<br>‚Ä¢ Item 2";
      } else if (type === "image") {
        const url = prompt("Masukkan URL gambar:");
        if (url) {
          const img = document.createElement("img");
          img.src = url;
          img.style.maxWidth = "100%";
          img.style.borderRadius = "8px";
          img.style.marginTop = "10px";
          block.appendChild(img);
        } else {
          showNotification("URL gambar kosong, blok tidak ditambahkan.", false);
          return;
        }
      } else if (type === "embed") {
        const url = prompt("Masukkan URL iframe/embed (YouTube, website):");
        if (url) {
          const iframe = document.createElement("iframe");
          iframe.src = url;
          // Set allowfullscreen for YouTube embeds to work
          if (url.includes('youtube.com/embed')) {
            iframe.setAttribute('allowfullscreen', '');
          }
          block.appendChild(iframe);
        } else {
          showNotification("URL embed kosong, blok tidak ditambahkan.", false);
          return;
        }
      } else {
        block.innerHTML = "Tulis sesuatu di sini...";
      }

      editor.appendChild(block);
      block.focus();
    }

    // Fungsi kamera
    function startCamera() {
      const video = document.getElementById('video');
      const captureBtn = document.getElementById('capture-btn');
      const closeBtn = document.getElementById('close-camera');
      
      video.style.display = 'block';
      captureBtn.style.display = 'block';
      closeBtn.style.display = 'block';
      
      navigator.mediaDevices.getUserMedia({ video: true })
        .then(stream => {
          video.srcObject = stream;
        })
        .catch(err => {
          showNotification("Gagal membuka kamera: " + err.message + ". Pastikan browser Anda memiliki izin kamera.", false);
          closeCamera(); // Pastikan tombol disembunyikan jika gagal
        });
    }
    
    function capturePhoto() {
      const video = document.getElementById('video');
      const canvas = document.getElementById('canvas');
      const context = canvas.getContext('2d');
      
      canvas.width = video.videoWidth;
      canvas.height = video.videoHeight;
      context.drawImage(video, 0, 0, canvas.width, canvas.height);
      
      // Konversi ke data URL
      const dataUrl = canvas.toDataURL('image/png');
      
      // Tambahkan gambar ke editor
      const block = document.createElement("div");
      block.className = "block";
      block.setAttribute('data-type', 'image');
      
      const img = document.createElement("img");
      img.src = dataUrl;
      img.style.maxWidth = "100%";
      img.style.borderRadius = "8px";
      img.style.marginTop = "10px";
      block.appendChild(img);
      
      document.getElementById("editor").appendChild(block);
      
      closeCamera();
      showNotification("Foto berhasil ditambahkan!");
    }
    
    function closeCamera() {
      const video = document.getElementById('video');
      const captureBtn = document.getElementById('capture-btn');
      const closeBtn = document.getElementById('close-camera');
      const stream = video.srcObject;
      
      if (stream) {
        const tracks = stream.getTracks();
        tracks.forEach(track => track.stop());
      }
      
      video.style.display = 'none';
      captureBtn.style.display = 'none';
      closeBtn.style.display = 'none';
      video.srcObject = null;
    }
    
    // Fungsi untuk menyimpan konten ke Supabase
    async function saveContent() {
      const editor = document.getElementById('editor');
      const docIdInput = document.getElementById('doc-id-input');
      const content = editor.innerHTML;
      
      // Validasi Supabase keys
      if (SUPABASE_URL === 'https://YOUR_SUPABASE_ID.supabase.co' || SUPABASE_KEY === 'YOUR_SUPABASE_ANON_KEY') {
        showNotification("Harap ganti SUPABASE_URL dan SUPABASE_KEY dengan kunci Anda yang sebenarnya!", false);
        return;
      }

      try {
        let result;
        
        if (docIdInput.value) {
          // Update dokumen yang sudah ada
          result = await supabase
            .from('documents')
            .update({ content })
            .eq('id', docIdInput.value)
            .select(); // Tambahkan .select() untuk mendapatkan data yang diperbarui
        } else {
          // Buat dokumen baru
          result = await supabase
            .from('documents')
            .insert([{ content }])
            .select(); // Tambahkan .select() untuk mendapatkan data yang baru dibuat
        }
        
        if (result.error) throw result.error;
        
        if (!docIdInput.value && result.data && result.data.length > 0) {
          docIdInput.value = result.data[0].id;
        }
        
        showNotification("Dokumen berhasil disimpan ke cloud!");
      } catch (error) {
        console.error("Error menyimpan dokumen:", error);
        showNotification("Gagal menyimpan ke cloud: " + error.message, false);
      }
    }
    
    // Fungsi untuk memuat konten dari Supabase
    async function loadContent() {
      const editor = document.getElementById('editor');
      const docIdInput = document.getElementById('doc-id-input');
      
      if (!docIdInput.value) {
        showNotification("Masukkan ID dokumen terlebih dahulu", false);
        return;
      }

      // Validasi Supabase keys
      if (SUPABASE_URL === 'https://YOUR_SUPABASE_ID.supabase.co' || SUPABASE_KEY === 'YOUR_SUPABASE_ANON_KEY') {
        showNotification("Harap ganti SUPABASE_URL dan SUPABASE_KEY dengan kunci Anda yang sebenarnya!", false);
        return;
      }
      
      try {
        const { data, error } = await supabase
          .from('documents')
          .select('content')
          .eq('id', docIdInput.value)
          .single();
        
        if (error) {
          if (error.code === 'PGRST116') { // No rows found
            throw new Error("Dokumen dengan ID tersebut tidak ditemukan.");
          }
          throw error;
        }
        if (!data) throw new Error("Dokumen tidak ditemukan.");
        
        editor.innerHTML = data.content;
        showNotification("Dokumen berhasil dimuat dari cloud!");
      } catch (error) {
        console.error("Error memuat dokumen:", error);
        showNotification("Gagal memuat dari cloud: " + error.message, false);
      }
    }

    // Fungsi baru untuk mengunduh konten sebagai file HTML
    function downloadContent() {
        const editor = document.getElementById('editor');
        const content = editor.innerHTML;
        const filename = 'dokumen_editor.html'; // Nama file yang akan diunduh

        // Membuat Blob dari konten HTML
        const blob = new Blob([content], { type: 'text/html' });

        // Membuat URL objek dari Blob
        const url = URL.createObjectURL(blob);

        // Membuat elemen <a> sementara untuk mengunduh
        const a = document.createElement('a');
        a.href = url;
        a.download = filename; // Atur nama file yang akan diunduh

        // Menambahkan elemen ke DOM dan mengkliknya secara otomatis
        document.body.appendChild(a);
        a.click();

        // Membersihkan URL objek setelah pengunduhan dimulai
        document.body.removeChild(a);
        URL.revokeObjectURL(url);

        showNotification("Konten berhasil diunduh sebagai HTML!");
    }
    
    // Inisialisasi
    document.addEventListener('DOMContentLoaded', () => {
      // Cek apakah ada ID dokumen di URL
      const urlParams = new URLSearchParams(window.location.search);
      const docId = urlParams.get('id');
      
      if (docId) {
        document.getElementById('doc-id-input').value = docId;
        // Beri sedikit jeda untuk memastikan Supabase SDK siap
        setTimeout(loadContent, 500); 
      }
    });
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nexus AI Terminal - TensorFlow.js + Thirdweb</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@3.11.0/dist/tf.min.js"></script>
    <script src="https://cdn.ethers.io/lib/ethers-5.2.umd.min.js" type="application/javascript"></script>
    <script src="https://unpkg.com/@thirdweb-dev/sdk@3.0.0/dist/sdk.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #0f8a5f;
            --secondary: #0d6efd;
            --dark: #0a1929;
            --darker: #061120;
            --light: #e0f7e9;
            --terminal-bg: rgba(10, 25, 41, 0.95);
            --terminal-text: #c3e6cb;
            --accent: #ff6b6b;
            --warning: #ffca28;
            --ml-color: #9c27b0;
            --blockchain-color: #ff9800;
        }
        
        body {
            background: linear-gradient(135deg, var(--darker), var(--dark));
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: var(--light);
        }
        
        .container {
            width: 100%;
            max-width: 1400px;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        header {
            text-align: center;
            padding: 20px;
            background: rgba(15, 138, 95, 0.15);
            border-radius: 15px;
            border: 1px solid rgba(15, 138, 95, 0.3);
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--primary), var(--secondary), var(--ml-color), var(--blockchain-color));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 900px;
            margin: 0 auto;
            line-height: 1.6;
        }
        
        .tech-tags {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 10px;
            margin-top: 15px;
        }
        
        .tech-tag {
            padding: 6px 15px;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
        }
        
        .tfjs-tag {
            background: rgba(156, 39, 176, 0.2);
            color: #e1bee7;
            border: 1px solid rgba(156, 39, 176, 0.4);
        }
        
        .thirdweb-tag {
            background: rgba(255, 152, 0, 0.2);
            color: #ffe0b2;
            border: 1px solid rgba(255, 152, 0, 0.4);
        }
        
        .main-content {
            display: flex;
            gap: 20px;
            flex-wrap: wrap;
        }
        
        .terminal-container {
            flex: 1;
            min-width: 300px;
            background: var(--terminal-bg);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(15, 138, 95, 0.3);
        }
        
        .terminal-header {
            background: rgba(15, 138, 95, 0.2);
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 1px solid rgba(15, 138, 95, 0.3);
        }
        
        .terminal-title {
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .terminal-controls {
            display: flex;
            gap: 10px;
        }
        
        .control-btn {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            cursor: pointer;
        }
        
        .close { background-color: #ff5f56; }
        .minimize { background-color: #ffbd2e; }
        .maximize { background-color: #27c93f; }
        
        .terminal-body {
            flex: 1;
            padding: 20px;
            overflow-y: auto;
            max-height: 500px;
            font-family: 'Courier New', monospace;
            color: var(--terminal-text);
            line-height: 1.6;
        }
        
        .prompt {
            color: var(--primary);
            font-weight: bold;
        }
        
        .ml-prompt {
            color: var(--ml-color);
        }
        
        .blockchain-prompt {
            color: var(--blockchain-color);
        }
        
        .user-input {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.3);
            border-top: 1px solid rgba(15, 138, 95, 0.2);
        }
        
        .input-prefix {
            color: var(--primary);
            font-weight: bold;
        }
        
        #userInput {
            flex: 1;
            background: transparent;
            border: none;
            color: var(--light);
            font-family: 'Courier New', monospace;
            font-size: 1rem;
            padding: 8px 0;
            outline: none;
        }
        
        .tools-panel {
            flex: 0 0 350px;
            background: rgba(10, 25, 41, 0.7);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(15, 138, 95, 0.3);
            backdrop-filter: blur(10px);
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .panel-section {
            background: rgba(15, 138, 95, 0.1);
            border-radius: 10px;
            padding: 15px;
            border: 1px solid rgba(15, 138, 95, 0.2);
        }
        
        .section-title {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 15px;
            font-size: 1.2rem;
        }
        
        .api-section .section-title {
            color: var(--primary);
        }
        
        .ml-section .section-title {
            color: var(--ml-color);
        }
        
        .blockchain-section .section-title {
            color: var(--blockchain-color);
        }
        
        .api-key-container {
            display: flex;
            gap: 10px;
        }
        
        #apiKeyInput {
            flex: 1;
            padding: 12px 15px;
            border-radius: 8px;
            border: 1px solid rgba(15, 138, 95, 0.4);
            background: rgba(0, 0, 0, 0.3);
            color: var(--light);
            outline: none;
        }
        
        #apiKeyInput:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 2px rgba(15, 138, 95, 0.3);
        }
        
        #saveKeyBtn {
            padding: 12px 20px;
            border-radius: 8px;
            background: linear-gradient(135deg, var(--primary), #0a8a5f);
            color: white;
            border: none;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        #saveKeyBtn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(15, 138, 95, 0.4);
        }
        
        .ml-controls {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .ml-btn {
            padding: 12px;
            border-radius: 8px;
            background: rgba(156, 39, 176, 0.1);
            border: 1px solid rgba(156, 39, 176, 0.3);
            color: #e1bee7;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        .ml-btn:hover {
            background: rgba(156, 39, 176, 0.2);
            transform: translateY(-2px);
        }
        
        .ml-btn i {
            font-size: 1.2rem;
        }
        
        .ml-result {
            margin-top: 15px;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            font-size: 0.9rem;
            min-height: 80px;
        }
        
        .ml-result h4 {
            margin-bottom: 8px;
            color: var(--ml-color);
        }
        
        .blockchain-controls {
            display: grid;
            grid-template-columns: 1fr;
            gap: 10px;
        }
        
        .blockchain-btn {
            padding: 12px;
            border-radius: 8px;
            background: rgba(255, 152, 0, 0.1);
            border: 1px solid rgba(255, 152, 0, 0.3);
            color: #ffe0b2;
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 8px;
        }
        
        .blockchain-btn:hover {
            background: rgba(255, 152, 0, 0.2);
            transform: translateY(-2px);
        }
        
        .blockchain-btn i {
            font-size: 1.2rem;
        }
        
        .blockchain-result {
            margin-top: 15px;
            padding: 12px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
            font-size: 0.9rem;
            min-height: 80px;
        }
        
        .blockchain-result h4 {
            margin-bottom: 8px;
            color: var(--blockchain-color);
        }
        
        .project-files {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 10px;
        }
        
        .file-item {
            background: rgba(13, 110, 253, 0.1);
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid rgba(13, 110, 253, 0.2);
        }
        
        .file-item:hover {
            transform: translateY(-3px);
            background: rgba(13, 110, 253, 0.2);
            box-shadow: 0 4px 10px rgba(13, 110, 253, 0.2);
        }
        
        .file-icon {
            font-size: 2rem;
            margin-bottom: 8px;
            color: var(--secondary);
        }
        
        .file-name {
            font-size: 0.85rem;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
        
        .quick-commands {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .command-btn {
            padding: 12px;
            border-radius: 8px;
            background: rgba(255, 107, 107, 0.1);
            border: 1px solid rgba(255, 107, 107, 0.2);
            color: var(--light);
            cursor: pointer;
            text-align: center;
            transition: all 0.3s ease;
        }
        
        .command-btn:hover {
            background: rgba(255, 107, 107, 0.2);
            transform: translateY(-2px);
        }
        
        .status-bar {
            display: flex;
            justify-content: space-between;
            padding: 15px 20px;
            background: rgba(15, 138, 95, 0.15);
            border-radius: 15px;
            border: 1px solid rgba(15, 138, 95, 0.3);
            backdrop-filter: blur(10px);
            font-size: 0.9rem;
        }
        
        .status-item {
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .status-indicator {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }
        
        .tfjs-status {
            background-color: var(--ml-color);
        }
        
        .thirdweb-status {
            background-color: var(--blockchain-color);
        }
        
        .ai-status {
            background-color: #27c93f;
        }
        
        .message {
            padding: 10px 15px;
            border-radius: 8px;
            margin: 10px 0;
            animation: fadeIn 0.5s ease;
        }
        
        .user-message {
            background: rgba(13, 110, 253, 0.15);
            border-left: 3px solid var(--secondary);
        }
        
        .ai-message {
            background: rgba(15, 138, 95, 0.15);
            border-left: 3px solid var(--primary);
        }
        
        .ml-message {
            background: rgba(156, 39, 176, 0.15);
            border-left: 3px solid var(--ml-color);
        }
        
        .blockchain-message {
            background: rgba(255, 152, 0, 0.15);
            border-left: 3px solid var(--blockchain-color);
        }
        
        .system-message {
            background: rgba(255, 202, 40, 0.15);
            border-left: 3px solid var(--warning);
            color: var(--warning);
        }
        
        .error-message {
            background: rgba(255, 107, 107, 0.15);
            border-left: 3px solid var(--accent);
            color: var(--accent);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .typing-indicator {
            display: inline-block;
        }
        
        .typing-dot {
            display: inline-block;
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background-color: var(--primary);
            margin: 0 2px;
            animation: bounce 1.5s infinite;
        }
        
        .typing-dot:nth-child(2) {
            animation-delay: 0.2s;
        }
        
        .typing-dot:nth-child(3) {
            animation-delay: 0.4s;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        
        .visualization {
            margin-top: 15px;
            padding: 15px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
        }
        
        .visualization h4 {
            margin-bottom: 10px;
            color: var(--ml-color);
        }
        
        .chart-container {
            height: 100px;
            display: flex;
            align-items: flex-end;
            gap: 5px;
            margin-top: 10px;
        }
        
        .chart-bar {
            flex: 1;
            background: linear-gradient(to top, var(--ml-color), #7b1fa2);
            border-radius: 3px 3px 0 0;
            min-width: 10px;
            transition: height 0.5s ease;
        }
        
        @media (max-width: 1200px) {
            .main-content {
                flex-direction: column;
            }
            
            .tools-panel {
                flex: 0 0 auto;
                max-width: 100%;
            }
            
            h1 {
                font-size: 2rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-robot"></i> Nexus AI Terminal - TF.js + Thirdweb</h1>
            <p class="subtitle">Asisten canggih untuk manajemen proyek 2BCycle dengan integrasi Machine Learning (TensorFlow.js) dan Blockchain (Thirdweb SDK)</p>
            <div class="tech-tags">
                <div class="tech-tag tfjs-tag"><i class="fas fa-brain"></i> TensorFlow.js</div>
                <div class="tech-tag thirdweb-tag"><i class="fas fa-link"></i> Thirdweb SDK</div>
            </div>
        </header>
        
        <div class="main-content">
            <div class="terminal-container">
                <div class="terminal-header">
                    <div class="terminal-title">
                        <i class="fas fa-terminal"></i>
                        <span>Terminal 2BCycle</span>
                    </div>
                    <div class="terminal-controls">
                        <div class="control-btn close"></div>
                        <div class="control-btn minimize"></div>
                        <div class="control-btn maximize"></div>
                    </div>
                </div>
                <div class="terminal-body" id="terminal">
                    <div class="system-message">
                        <span class="prompt">System ></span> Nexus AI Terminal v2.0 initialized
                    </div>
                    <div class="system-message">
                        <span class="prompt">System ></span> Memuat TensorFlow.js dan Thirdweb SDK...
                    </div>
                    <div class="ml-message">
                        <span class="prompt ml-prompt">TensorFlow.js ></span> Model machine learning berhasil dimuat!
                    </div>
                    <div class="blockchain-message">
                        <span class="prompt blockchain-prompt">Thirdweb ></span> SDK terhubung ke jaringan Polygon
                    </div>
                    <div class="system-message">
                        <span class="prompt">System ></span> Masukkan API key DeepSeek Anda untuk mengaktifkan AI
                    </div>
                </div>
                <div class="user-input">
                    <span class="input-prefix">user@2BCycle:~$</span>
                    <input type="text" id="userInput" placeholder="Ketik perintah di sini..." disabled>
                </div>
            </div>
            
            <div class="tools-panel">
                <div class="panel-section api-section">
                    <h3 class="section-title"><i class="fas fa-key"></i> API Key & Koneksi</h3>
                    <div class="api-key-container">
                        <input type="password" id="apiKeyInput" placeholder="Masukkan API Key DeepSeek...">
                        <button id="saveKeyBtn">Aktifkan AI</button>
                    </div>
                    <p style="font-size: 0.8rem; margin-top: 10px; opacity: 0.7;">
                        <i class="fas fa-shield-alt"></i> Key disimpan sementara di memori
                    </p>
                </div>
                
                <div class="panel-section ml-section">
                    <h3 class="section-title"><i class="fas fa-brain"></i> Machine Learning</h3>
                    <div class="ml-controls">
                        <div class="ml-btn" onclick="runSentimentAnalysis()">
                            <i class="fas fa-smile"></i>
                            <span>Analisis Sentimen</span>
                        </div>
                        <div class="ml-btn" onclick="runTextClassification()">
                            <i class="fas fa-tags"></i>
                            <span>Klasifikasi Teks</span>
                        </div>
                    </div>
                    <div class="ml-result" id="mlResult">
                        <h4>Hasil Analisis:</h4>
                        <p>Pilih salah satu fungsi ML untuk melihat hasil</p>
                    </div>
                    <div class="visualization" id="mlVisualization">
                        <h4>Visualisasi Hasil:</h4>
                        <div class="chart-container" id="mlChart">
                            <div class="chart-bar" style="height: 30%"></div>
                            <div class="chart-bar" style="height: 70%"></div>
                            <div class="chart-bar" style="height: 45%"></div>
                            <div class="chart-bar" style="height: 85%"></div>
                            <div class="chart-bar" style="height: 60%"></div>
                        </div>
                    </div>
                </div>
                
                <div class="panel-section blockchain-section">
                    <h3 class="section-title"><i class="fas fa-link"></i> Thirdweb Blockchain</h3>
                    <div class="blockchain-controls">
                        <div class="blockchain-btn" onclick="getNFTContractInfo()">
                            <i class="fas fa-file-contract"></i>
                            <span>Info Kontrak NFT</span>
                        </div>
                        <div class="blockchain-btn" onclick="simulateTokenTransfer()">
                            <i class="fas fa-coins"></i>
                            <span>Simulasi Transfer Token</span>
                        </div>
                        <div class="blockchain-btn" onclick="checkUserNFTs()">
                            <i class="fas fa-user-check"></i>
                            <span>Cek Kepemilikan NFT</span>
                        </div>
                    </div>
                    <div class="blockchain-result" id="blockchainResult">
                        <h4>Hasil Blockchain:</h4>
                        <p>Pilih fungsi blockchain untuk melihat hasil</p>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="status-bar">
            <div class="status-item">
                <div class="status-indicator ai-status"></div>
                <span>AI: <span id="aiStatus">Menunggu API Key</span></span>
            </div>
            <div class="status-item">
                <div class="status-indicator tfjs-status"></div>
                <span>TensorFlow.js: <span id="tfjsStatus">Aktif</span></span>
            </div>
            <div class="status-item">
                <div class="status-indicator thirdweb-status"></div>
                <span>Thirdweb: <span id="thirdwebStatus">Terhubung ke Polygon</span></span>
            </div>
            <div class="status-item">
                <i class="fas fa-microchip"></i>
                <span>Nexus AI v2.0</span>
            </div>
        </div>
    </div>

    <script>
        // =======================[ KONFIGURASI ]=======================
        const terminalEl = document.getElementById('terminal');
        const userInputEl = document.getElementById('userInput');
        const apiKeyInputEl = document.getElementById('apiKeyInput');
        const saveKeyBtn = document.getElementById('saveKeyBtn');
        const aiStatusEl = document.getElementById('aiStatus');
        const mlResultEl = document.getElementById('mlResult');
        const blockchainResultEl = document.getElementById('blockchainResult');
        const mlChartEl = document.getElementById('mlChart');
        const tfjsStatusEl = document.getElementById('tfjsStatus');
        const thirdwebStatusEl = document.getElementById('thirdwebStatus');
        
        // Thirdweb configuration
        const THIRDWEB_CLIENT_ID = "YOUR_THIRDWEB_CLIENT_ID";
        const NFT_CONTRACT_ADDRESS = "0x23fE3881cb4A57179DF5CC53802f7B0B49E8F8Af";
        
        let DEEPSEEK_API_KEY = "";
        let isAIEnabled = false;
        let commandHistory = [];
        let historyIndex = -1;
        let sentimentModel = null;
        let textClassificationModel = null;
        let thirdwebSDK = null;
        
        // =======================[ INISIALISASI ]=======================
        document.addEventListener('DOMContentLoaded', async () => {
            // Initialize TensorFlow.js
            try {
                logToTerminal("Memuat model machine learning...", "ml");
                await tf.ready();
                tfjsStatusEl.textContent = `v${tf.version.tfjs} Aktif`;
                
                // Load models
                sentimentModel = await tf.loadLayersModel('https://storage.googleapis.com/tfjs-models/tfjs/sentiment_cnn_v1/model.json');
                textClassificationModel = await tf.loadLayersModel('https://tfhub.dev/google/tfjs-model/tfjs/universal-sentence-encoder-lite/1');
                
                logToTerminal("Model ML berhasil dimuat!", "ml");
                logToTerminal("Sistem siap untuk analisis sentimen dan klasifikasi teks", "ml");
            } catch (error) {
                logToTerminal(`Gagal memuat model: ${error.message}`, "error");
                tfjsStatusEl.textContent = "Error";
                tfjsStatusEl.style.color = "var(--accent)";
            }
            
            // Initialize Thirdweb SDK
            try {
                logToTerminal("Menginisialisasi Thirdweb SDK...", "blockchain");
                thirdwebSDK = new ThirdwebSDK.ThirdwebSDK("polygon");
                thirdwebStatusEl.textContent = "Terhubung ke Polygon";
                logToTerminal("SDK Thirdweb berhasil diinisialisasi", "blockchain");
            } catch (error) {
                logToTerminal(`Gagal menginisialisasi Thirdweb: ${error.message}`, "error");
                thirdwebStatusEl.textContent = "Error";
                thirdwebStatusEl.style.color = "var(--accent)";
            }
        });
        
        // =======================[ FUNGSI UTAMA ]=======================
        function logToTerminal(message, type = "system") {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message');
            
            switch(type) {
                case "user":
                    messageDiv.classList.add('user-message');
                    messageDiv.innerHTML = `<span class="prompt">user@2BCycle:~$</span> ${message}`;
                    break;
                case "ai":
                    messageDiv.classList.add('ai-message');
                    messageDiv.innerHTML = `<span class="prompt">nexus-ai ></span> ${message}`;
                    break;
                case "ml":
                    messageDiv.classList.add('ml-message');
                    messageDiv.innerHTML = `<span class="prompt ml-prompt">tfjs ></span> ${message}`;
                    break;
                case "blockchain":
                    messageDiv.classList.add('blockchain-message');
                    messageDiv.innerHTML = `<span class="prompt blockchain-prompt">thirdweb ></span> ${message}`;
                    break;
                case "error":
                    messageDiv.classList.add('error-message');
                    messageDiv.innerHTML = `<span class="prompt">error ></span> ${message}`;
                    break;
                default: // system
                    messageDiv.classList.add('system-message');
                    messageDiv.innerHTML = `<span class="prompt">system ></span> ${message}`;
            }
            
            terminalEl.appendChild(messageDiv);
            terminalEl.scrollTop = terminalEl.scrollHeight;
        }
        
        function showTypingIndicator() {
            const typingDiv = document.createElement('div');
            typingDiv.classList.add('message', 'ai-message');
            typingDiv.id = 'typing-indicator';
            typingDiv.innerHTML = `
                <span class="prompt">nexus-ai ></span> 
                <span class="typing-indicator">
                    <span class="typing-dot"></span>
                    <span class="typing-dot"></span>
                    <span class="typing-dot"></span>
                </span>
            `;
            terminalEl.appendChild(typingDiv);
            terminalEl.scrollTop = terminalEl.scrollHeight;
        }
        
        function hideTypingIndicator() {
            const typingIndicator = document.getElementById('typing-indicator');
            if (typingIndicator) {
                typingIndicator.remove();
            }
        }
        
        function runCommand(command) {
            if (!command.trim()) return;
            
            // Tambahkan ke history
            commandHistory.push(command);
            historyIndex = commandHistory.length;
            
            // Tampilkan perintah pengguna
            logToTerminal(command, "user");
            
            // Jika AI belum diaktifkan
            if (!isAIEnabled) {
                logToTerminal("Silakan aktifkan AI terlebih dahulu dengan memasukkan API Key DeepSeek.", "error");
                return;
            }
            
            // Tampilkan indikator mengetik
            showTypingIndicator();
            
            // Kirim permintaan ke DeepSeek API
            askNexusAI(command);
        }
        
        async function askNexusAI(message) {
            try {
                const response = await fetch("https://api.deepseek.com/v1/chat/completions", {
                    method: "POST",
                    headers: {
                        "Authorization": `Bearer ${DEEPSEEK_API_KEY}`,
                        "Content-Type": "application/json"
                    },
                    body: JSON.stringify({
                        model: "deepseek-chat",
                        messages: [{
                            role: "system",
                            content: `Anda adalah Nexus AI v2.0 dengan integrasi TensorFlow.js dan Thirdweb.
                                      Proyek 2BCycle fokus pada ekonomi sirkular berbasis blockchain. 
                                      File utama: dashboard.html, pagenyampah.html, auth-aa.js, nft-minter.js.
                                      Kontrak NFT: ${NFT_CONTRACT_ADDRESS} di Polygon.
                                      Tanggapi dengan ramah dan informatif.`
                        }, {
                            role: "user",
                            content: message
                        }]
                    })
                });
                
                const data = await response.json();
                const aiResponse = data.choices[0].message.content;
                
                // Sembunyikan indikator mengetik dan tampilkan respons
                hideTypingIndicator();
                logToTerminal(aiResponse, "ai");
                
            } catch (error) {
                hideTypingIndicator();
                logToTerminal(`Terjadi kesalahan: ${error.message}`, "error");
            }
        }
        
        // =======================[ MACHINE LEARNING FUNCTIONS ]=======================
        async function runSentimentAnalysis() {
            if (!sentimentModel) {
                mlResultEl.innerHTML = "<h4>Error:</h4><p>Model sentimen belum dimuat</p>";
                return;
            }
            
            const sampleTexts = [
                "Saya sangat senang dengan perkembangan proyek 2BCycle!",
                "Implementasi blockchain sangat mengesankan.",
                "Saya kecewa dengan kemajuan yang lambat",
                "Tim pengembang melakukan pekerjaan dengan baik"
            ];
            
            // Select random text
            const text = sampleTexts[Math.floor(Math.random() * sampleTexts.length)];
            
            try {
                mlResultEl.innerHTML = `<h4>Analisis Sentimen:</h4><p>Menganalisis: "${text}"</p>`;
                logToTerminal(`Memulai analisis sentimen untuk: "${text}"`, "ml");
                
                // Preprocess text
                const inputText = text.trim().toLowerCase().replace(/(\.|\,|\!)/g, '');
                const sequence = inputText.split(' ');
                
                // Predict sentiment
                const prediction = await sentimentModel.predict(tf.tensor2d([sequence.map(word => word.length)]));
                const score = prediction.dataSync()[0];
                const sentiment = score > 0.5 ? "Positif" : "Negatif";
                const confidence = Math.round(Math.max(score, 1 - score) * 100);
                
                // Update result
                mlResultEl.innerHTML = `
                    <h4>Hasil Analisis:</h4>
                    <p>Teks: "${text}"</p>
                    <p>Sentimen: <strong>${sentiment}</strong></p>
                    <p>Skor: ${score.toFixed(4)}</p>
                    <p>Akurasi: ${confidence}%</p>
                `;
                
                logToTerminal(`Hasil: ${sentiment} (Skor: ${score.toFixed(4)}, Akurasi: ${confidence}%)`, "ml");
                
                // Update chart visualization
                updateSentimentChart(score);
                
            } catch (error) {
                mlResultEl.innerHTML = `<h4>Error:</h4><p>${error.message}</p>`;
                logToTerminal(`Gagal analisis sentimen: ${error.message}`, "error");
            }
        }
        
        function updateSentimentChart(score) {
            const positiveHeight = Math.round(score * 100);
            const negativeHeight = 100 - positiveHeight;
            
            mlChartEl.innerHTML = `
                <div class="chart-bar" style="height:${positiveHeight}%"></div>
                <div class="chart-bar" style="height:${negativeHeight}%"></div>
            `;
        }
        
        async function runTextClassification() {
            if (!textClassificationModel) {
                mlResultEl.innerHTML = "<h4>Error:</h4><p>Model klasifikasi belum dimuat</p>";
                return;
            }
            
            const sampleTexts = [
                "Bagaimana cara mengintegrasikan smart contract dengan frontend?",
                "Saya ingin membuat fitur daur ulang NFT",
                "Bagaimana cara meningkatkan keamanan aplikasi?",
                "Saya membutuhkan bantuan dengan desain UI"
            ];
            
            // Select random text
            const text = sampleTexts[Math.floor(Math.random() * sampleTexts.length)];
            
            try {
                mlResultEl.innerHTML = `<h4>Klasifikasi Teks:</h4><p>Menganalisis: "${text}"</p>`;
                logToTerminal(`Memulai klasifikasi teks untuk: "${text}"`, "ml");
                
                // Mock classification results
                const categories = {
                    "Teknis": 0.85,
                    "NFT": 0.75,
                    "Keamanan": 0.60,
                    "UI/UX": 0.45,
                    "Blockchain": 0.80
                };
                
                // Display results
                let resultsHTML = `<h4>Hasil Klasifikasi:</h4><p>Teks: "${text}"</p>`;
                resultsHTML += "<p>Kategori yang terdeteksi:</p><ul>";
                
                for (const [category, score] of Object.entries(categories)) {
                    resultsHTML += `<li>${category}: ${Math.round(score * 100)}%</li>`;
                }
                
                resultsHTML += "</ul>";
                mlResultEl.innerHTML = resultsHTML;
                
                logToTerminal("Klasifikasi teks selesai", "ml");
                
                // Update chart visualization
                updateClassificationChart(categories);
                
            } catch (error) {
                mlResultEl.innerHTML = `<h4>Error:</h4><p>${error.message}</p>`;
                logToTerminal(`Gagal klasifikasi teks: ${error.message}`, "error");
            }
        }
        
        function updateClassificationChart(categories) {
            const categoryNames = Object.keys(categories);
            const scores = Object.values(categories);
            
            mlChartEl.innerHTML = '';
            
            categoryNames.forEach((_, index) => {
                const height = Math.round(scores[index] * 100);
                mlChartEl.innerHTML += `
                    <div class="chart-bar" style="height:${height}%"></div>
                `;
            });
        }
        
        // =======================[ BLOCKCHAIN FUNCTIONS ]=======================
        async function getNFTContractInfo() {
            if (!thirdwebSDK) {
                blockchainResultEl.innerHTML = "<h4>Error:</h4><p>Thirdweb SDK belum diinisialisasi</p>";
                return;
            }
            
            try {
                blockchainResultEl.innerHTML = "<h4>Memproses...</h4><p>Mengambil informasi kontrak NFT</p>";
                logToTerminal("Mengambil informasi kontrak NFT...", "blockchain");
                
                // Mock contract info
                const contractInfo = {
                    address: NFT_CONTRACT_ADDRESS,
                    name: "2BCycle Recyclable NFT",
                    symbol: "RCNFT",
                    totalSupply: "10,000",
                    owner: "0x2bCYCLEAdmin",
                    description: "Kontrak untuk NFT yang mewakili material daur ulang dalam ekosistem 2BCycle"
                };
                
                // Display results
                blockchainResultEl.innerHTML = `
                    <h4>Informasi Kontrak NFT:</h4>
                    <p><strong>Alamat:</strong> ${contractInfo.address}</p>
                    <p><strong>Nama:</strong> ${contractInfo.name}</p>
                    <p><strong>Simbol:</strong> ${contractInfo.symbol}</p>
                    <p><strong>Total Supply:</strong> ${contractInfo.totalSupply}</p>
                    <p><strong>Pemilik:</strong> ${contractInfo.owner}</p>
                    <p><strong>Deskripsi:</strong> ${contractInfo.description}</p>
                `;
                
                logToTerminal("Informasi kontrak NFT berhasil diambil", "blockchain");
                
            } catch (error) {
                blockchainResultEl.innerHTML = `<h4>Error:</h4><p>${error.message}</p>`;
                logToTerminal(`Gagal mengambil info kontrak: ${error.message}`, "error");
            }
        }
        
        async function simulateTokenTransfer() {
            if (!thirdwebSDK) {
                blockchainResultEl.innerHTML = "<h4>Error:</h4><p>Thirdweb SDK belum diinisialisasi</p>";
                return;
            }
            
            try {
                blockchainResultEl.innerHTML = "<h4>Memproses...</h4><p>Simulasi transfer token</p>";
                logToTerminal("Memulai simulasi transfer token...", "blockchain");
                
                // Mock transfer
                const sender = "0xUserWallet1";
                const receiver = "0xUserWallet2";
                const amount = Math.floor(Math.random() * 100) + 1;
                const token = "RCNFT";
                
                // Simulate delay
                setTimeout(() => {
                    blockchainResultEl.innerHTML = `
                        <h4>Transfer Berhasil:</h4>
                        <p><strong>Dari:</strong> ${sender}</p>
                        <p><strong>Ke:</strong> ${receiver}</p>
                        <p><strong>Jumlah:</strong> ${amount} ${token}</p>
                        <p><strong>Tx Hash:</strong> 0x${Math.random().toString(16).substr(2, 64)}</p>
                    `;
                    
                    logToTerminal(`Simulasi transfer berhasil: ${amount} ${token} dari ${sender} ke ${receiver}`, "blockchain");
                }, 2000);
                
            } catch (error) {
                blockchainResultEl.innerHTML = `<h4>Error:</h4><p>${error.message}</p>`;
                logToTerminal(`Gagal simulasi transfer: ${error.message}`, "error");
            }
        }
        
        async function checkUserNFTs() {
            if (!thirdwebSDK) {
                blockchainResultEl.innerHTML = "<h4>Error:</h4><p>Thirdweb SDK belum diinisialisasi</p>";
                return;
            }
            
            try {
                blockchainResultEl.innerHTML = "<h4>Memproses...</h4><p>Memeriksa kepemilikan NFT</p>";
                logToTerminal("Memeriksa kepemilikan NFT untuk pengguna...", "blockchain");
                
                // Mock NFTs
                const userNFTs = [
                    { id: "RCNFT#001", name: "Plastic Recyclable", balance: 150 },
                    { id: "RCNFT#002", name: "Paper Recyclable", balance: 85 },
                    { id: "RCNFT#005", name: "Metal Recyclable", balance: 42 }
                ];
                
                // Display results
                let resultsHTML = "<h4>Kepemilikan NFT:</h4>";
                
                if (userNFTs.length > 0) {
                    userNFTs.forEach(nft => {
                        resultsHTML += `
                            <div style="margin-top: 10px; padding: 10px; background: rgba(255,255,255,0.05); border-radius: 8px;">
                                <p><strong>ID:</strong> ${nft.id}</p>
                                <p><strong>Nama:</strong> ${nft.name}</p>
                                <p><strong>Jumlah:</strong> ${nft.balance}</p>
                            </div>
                        `;
                    });
                } else {
                    resultsHTML += "<p>Pengguna tidak memiliki NFT</p>";
                }
                
                // Simulate delay
                setTimeout(() => {
                    blockchainResultEl.innerHTML = resultsHTML;
                    logToTerminal("Pemeriksaan kepemilikan NFT selesai", "blockchain");
                }, 1500);
                
            } catch (error) {
                blockchainResultEl.innerHTML = `<h4>Error:</h4><p>${error.message}</p>`;
                logToTerminal(`Gagal memeriksa NFT: ${error.message}`, "error");
            }
        }
        
        // =======================[ EVENT LISTENERS ]=======================
        saveKeyBtn.addEventListener('click', () => {
            DEEPSEEK_API_KEY = apiKeyInputEl.value;
            if (DEEPSEEK_API_KEY) {
                apiKeyInputEl.value = "";
                isAIEnabled = true;
                aiStatusEl.textContent = "Aktif";
                aiStatusEl.style.color = "#27c93f";
                logToTerminal("API Key berhasil diatur. Nexus AI sekarang aktif!", "system");
                userInputEl.disabled = false;
                userInputEl.focus();
                logToTerminal("Halo! Saya Nexus AI v2.0 dengan kemampuan ML dan blockchain. Ada yang bisa saya bantu?", "ai");
            } else {
                logToTerminal("Silakan masukkan API Key DeepSeek yang valid.", "error");
            }
        });
        
        userInputEl.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                const command = userInputEl.value.trim();
                if (command) {
                    runCommand(command);
                    userInputEl.value = "";
                }
            }
        });
        
        // Navigasi history dengan tombol panah
        userInputEl.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowUp' && commandHistory.length > 0) {
                e.preventDefault();
                if (historyIndex > 0) historyIndex--;
                if (historyIndex >= 0) userInputEl.value = commandHistory[historyIndex];
            } else if (e.key === 'ArrowDown') {
                e.preventDefault();
                if (historyIndex < commandHistory.length - 1) {
                    historyIndex++;
                    userInputEl.value = commandHistory[historyIndex];
                } else {
                    historyIndex = commandHistory.length;
                    userInputEl.value = "";
                }
            }
        });
        
        // =======================[ PROTEKSI KEAMANAN ]=======================
        // Hapus API key dari memori saat browser ditutup
        window.addEventListener('beforeunload', () => {
            DEEPSEEK_API_KEY = "".padStart(100, "*");
            isAIEnabled = false;
        });
    </script>
</body>
</html>


<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <title>Onboarding Wallet Rakyat - 2BCycle Account Abstraction</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://unpkg.com/@thirdweb-dev/sdk@latest/dist/sdk.umd.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
  <style>
    body { background: #1b2937; min-height:100vh; color: #e0f7e9; font-family: 'Poppins',sans-serif; display:flex;justify-content:center;align-items:center;padding:0;margin:0;}
    .wrap {background:#212e3c; border-radius:16px; box-shadow:0 0 40px #111a; max-width:410px; margin:auto; padding:36px 32px}
    h1 {color:#e2f863; letter-spacing:-2px; text-align:center;}
    .input-row {margin:22px 0 14px;}
    input[type="email"] {padding:12px 15px; border-radius:7px; font-size:1.08em; border:none; width:100%; background:#29394e; color:#fffc;}
    button {margin:20px 0 0 0; background:linear-gradient(90deg,#2ddb85,#8affcf); color:#132; font-weight:700; border:none; font-size:1.07em; border-radius:7px; padding:13px 0; width:100%; box-shadow:0 1px 12px #1113;}
    button:hover {background:linear-gradient(90deg,#8affcf,#2ddb85);}
    .result { margin:15px 0 0 0; min-height:32px; }
    .addr {font-size:1em;color:#7ef6c2;word-break:break-all;}
    .hide {display:none}
    .success {color: #51fa76;}
    .error {color: #ff6050;}
    .fa-spinner {animation:spin 1s linear infinite;}
    @keyframes spin{100%{transform:rotate(360deg)}}
    .desc {font-size:.98em; color:#c2eddc; opacity:.84; text-align:center;margin:18px 0 0 0;}
    .help {color:#f7e050;font-size:.96em;}
  </style>
</head>
<body>
  <div class="wrap">
    <h1><i class="fa fa-users"></i> Login Wallet Rakyat</h1>
    <div class="desc">
      Sertifikat Karbon &amp; Reward ke wallet ERC-4337 Anda<br>
      <span class="help">Tanpa gas, tanpa seed phrase. Masuk dg email &mdash; Wallet aktif otomatis.</span>
    </div>
    <div class="input-row">
      <input type="email" id="emailaa" placeholder="Masukkan Email Rakyat..." autocomplete="email" required>
    </div>
    <button onclick="startOnboard()" id="onboardBtn"><i class="fa fa-sign-in-alt"></i> Login / Buat Wallet</button>
    <div class="result" id="aaStatus"></div>
    <div id="afterlogin" class="hide">
      <div style="margin-top:17px">
        <b>Alamat Wallet Rakyat:</b>
        <div class="addr" id="saa"></div>
      </div>
      <div class="desc" style="margin-top:11px">
        Siap menerima <b>Sertifikat Karbon Rakyat</b> &amp; claim insentif!
      </div>
      <button onclick="window.location.reload()" style="background:#2e433e;color:#8affcf;margin-top:18px"><i class="fa fa-arrow-left"></i> Logout</button>
    </div>
  </div>
  <script>
    let sdk, userWallet, smartAccount, clientId="YOUR_CLIENT_ID", factory="0x23c346bf6ff4ab4fdececeadf625bd95c53d661b";
    async function startOnboard() {
      const s = dget("aaStatus"); s.className=""; s.innerHTML='<i class="fa fa-spinner"></i> Memulai login...';
      dget("onboardBtn").disabled=true;
      try {
        sdk = new thirdweb.ThirdwebSDK("base", { clientId });
        const email = dget("emailaa").value.trim();
        if (!email.match(/^[^@]+@[^@]+\.[^@]+$/)) throw "Email tidak valid.";
        userWallet = await sdk.wallet.connect({ strategy:"email", email });
        s.innerHTML='<i class="fa fa-check"></i> Email diverifikasi, membuat wallet...';
        smartAccount = await sdk.smartWallet.connect({
          factoryAddress: factory,
          personalWallet: userWallet,
          gasless: true
        });
        const acc = await smartAccount.getAddress();
        s.className="success";
        s.innerHTML="‚úÖ <b>Wallet Siap!</b><br><span class='addr'>"+acc+"</span>";
        dget("aaStatus").style.display="none";
        dget("afterlogin").classList.remove("hide");
        dget("saa").textContent = acc;
      } catch(e) {
        s.className="error";
        s.innerHTML="‚ùå "+(e.message||e.toString());
        dget("onboardBtn").disabled=false;
      }
    }
    function dget(id){return document.getElementById(id);}
  </script>
</body>
</html>

<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strategi Pendanaan Erasmus+ | Nyampah Bersama</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary: #2e7d32;
            --secondary: #00695c;
            --accent: #ffab00;
            --light: #f1f8e9;
            --dark: #1b5e20;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
            color: #333;
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            padding: 2rem 1rem;
            text-align: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        header::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="none"><path d="M0,0 L100,0 L100,100 Z" fill="rgba(255,255,255,0.1)"/></svg>');
            background-size: cover;
        }
        
        .logo-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .logo {
            background: white;
            border-radius: 50%;
            width: 80px;
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 10px rgba(0,0,0,0.2);
        }
        
        .logo i {
            font-size: 40px;
            color: var(--primary);
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .subtitle {
            font-size: 1.4rem;
            max-width: 800px;
            margin: 0 auto 2rem;
            font-weight: 300;
        }
        
        .deadline-badge {
            background: var(--accent);
            color: #333;
            padding: 8px 20px;
            border-radius: 30px;
            font-weight: bold;
            display: inline-block;
            margin-top: 15px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 20px;
        }
        
        .card {
            background: white;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 6px 15px rgba(0,0,0,0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border-left: 5px solid var(--primary);
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 20px rgba(0,0,0,0.15);
        }
        
        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .card-header i {
            background: var(--secondary);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            margin-right: 15px;
            flex-shrink: 0;
        }
        
        h2 {
            color: var(--secondary);
            font-size: 1.8rem;
            margin-bottom: 1rem;
        }
        
        h3 {
            color: var(--primary);
            font-size: 1.4rem;
            margin: 1.5rem 0 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--light);
        }
        
        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .info-box {
            background: var(--light);
            border-radius: 10px;
            padding: 1.5rem;
            position: relative;
            overflow: hidden;
        }
        
        .info-box::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 5px;
            height: 100%;
            background: var(--primary);
        }
        
        .info-box h4 {
            color: var(--dark);
            margin-bottom: 0.8rem;
            font-size: 1.2rem;
        }
        
        .priority {
            background: #fff8e1;
            padding: 1rem;
            border-radius: 8px;
            margin: 1rem 0;
            border-left: 4px solid var(--accent);
        }
        
        .checklist {
            list-style-type: none;
            padding-left: 1.5rem;
        }
        
        .checklist li {
            margin-bottom: 0.8rem;
            position: relative;
        }
        
        .checklist li::before {
            content: "‚úì";
            color: var(--primary);
            font-weight: bold;
            position: absolute;
            left: -1.5rem;
        }
        
        .table-container {
            overflow-x: auto;
            margin: 1.5rem 0;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            background: white;
            border-radius: 8px;
            overflow: hidden;
        }
        
        th {
            background: var(--secondary);
            color: white;
            text-align: left;
            padding: 1rem;
        }
        
        td {
            padding: 1rem;
            border-bottom: 1px solid #e0e0e0;
        }
        
        tr:nth-child(even) {
            background-color: #f5f5f5;
        }
        
        .innovation-diagram {
            background: #e3f2fd;
            padding: 1.5rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            font-family: monospace;
            line-height: 1.8;
        }
        
        .budget-chart {
            height: 300px;
            margin: 2rem 0;
        }
        
        .strategy-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .strategy-card {
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border-top: 4px solid var(--accent);
        }
        
        .contact-card {
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            color: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 2rem 0;
        }
        
        .btn {
            display: inline-block;
            background: var(--accent);
            color: #333;
            padding: 12px 30px;
            border-radius: 30px;
            text-decoration: none;
            font-weight: bold;
            margin-top: 1rem;
            transition: all 0.3s ease;
            border: none;
            cursor: pointer;
            font-size: 1rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .btn:hover {
            background: #ffd54f;
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0,0,0,0.25);
        }
        
        .btn i {
            margin-right: 8px;
        }
        
        .timeline {
            position: relative;
            margin: 2rem 0;
        }
        
        .timeline::before {
            content: "";
            position: absolute;
            top: 0;
            bottom: 0;
            left: 50%;
            width: 4px;
            background: var(--primary);
            transform: translateX(-50%);
        }
        
        .timeline-item {
            display: flex;
            margin-bottom: 2rem;
            position: relative;
        }
        
        .timeline-content {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            width: calc(50% - 40px);
        }
        
        .timeline-item:nth-child(odd) .timeline-content {
            margin-right: auto;
        }
        
        .timeline-item:nth-child(even) .timeline-content {
            margin-left: auto;
        }
        
        .timeline-content::before {
            content: "";
            position: absolute;
            top: 20px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: var(--accent);
            border: 4px solid var(--primary);
        }
        
        .timeline-item:nth-child(odd) .timeline-content::before {
            right: -12px;
        }
        
        .timeline-item:nth-child(even) .timeline-content::before {
            left: -12px;
        }
        
        footer {
            background: var(--dark);
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 3rem;
        }
        
        @media (max-width: 768px) {
            .timeline::before {
                left: 20px;
            }
            
            .timeline-content {
                width: calc(100% - 60px);
                margin-left: 40px !important;
            }
            
            .timeline-item:nth-child(even) .timeline-content::before,
            .timeline-item:nth-child(odd) .timeline-content::before {
                left: -12px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .subtitle {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="logo-container">
            <div class="logo">
                <i class="fas fa-recycle"></i>
            </div>
            <div>
                <h1>Strategi Pendanaan Erasmus+ & ESC</h1>
                <div class="subtitle">Roadmap Lengkap untuk Memenangkan Pendanaan Bagi Nyampah Bersama</div>
                <div class="deadline-badge">
                    <i class="fas fa-clock"></i> Target Submit: 15 Agustus 2025
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <section class="card">
            <div class="card-header">
                <i class="fas fa-flag"></i>
                <h2>Registrasi Organisasi Prioritas</h2>
            </div>
            
            <p>Segera daftarkan <strong>Nyampah Bersama</strong> di Portal Erasmus+ untuk mengakses pendanaan:</p>
            
            <div class="grid">
                <div class="info-box">
                    <h4>Data Organisasi</h4>
                    <ul class="checklist">
                        <li><strong>Nama Organisasi</strong>: Nyampah Bersama</li>
                        <li><strong>Negara</strong>: Indonesia</li>
                        <li><strong>Kota</strong>: Palembang</li>
                        <li><strong>Website</strong>: <a href="https://zenodo.org/communities/nyampahbersama" target="_blank">zenodo.org/communities/nyampahbersama</a></li>
                        <li><strong>ID Organisasi</strong>: ET04404020</li>
                        <li><strong>Nomor PPN</strong>: 397576190010000</li>
                    </ul>
                </div>
                
                <div class="info-box">
                    <h4>Dokumen Wajib</h4>
                    <ul class="checklist">
                        <li>Formulir Identifikasi Keuangan (FPI)</li>
                        <li>Formulir Badan Hukum (LE)</li>
                        <li>Dokumen pendukung aktivitas organisasi</li>
                        <li>Laporan proyek sebelumnya</li>
                        <li>Foto dokumentasi kegiatan</li>
                    </ul>
                    <a href="https://ec.europa.eu/info/sites/default/files/model_fip_en.pdf" class="btn" target="_blank">
                        <i class="fas fa-download"></i> Download Template FPI
                    </a>
                </div>
            </div>
            
            <div class="priority">
                <i class="fas fa-exclamation-circle"></i> <strong>Penting</strong>: 
                Registrasi harus selesai sebelum 30 September 2025 untuk memenuhi deadline pengajuan proposal
            </div>
        </section>
        
        <section class="card">
            <div class="card-header">
                <i class="fas fa-project-diagram"></i>
                <h2>Pilihan Program Strategis</h2>
            </div>
            
            <div class="grid">
                <div class="info-box" style="background: #e8f5e9;">
                    <h4><i class="fas fa-tag"></i> ESC50-QLA</h4>
                    <p><strong>Label Kualitas Terdesentralisasi</strong></p>
                    <ul>
                        <li><i class="far fa-calendar"></i> <strong>Deadline</strong>: 31 Oktober 2025</li>
                        <li><i class="fas fa-euro-sign"></i> <strong>Pendanaan</strong>: ‚Ç¨100,000</li>
                        <li><i class="fas fa-check-circle"></i> Cocok untuk pengembangan kapasitas organisasi</li>
                    </ul>
                </div>
                
                <div class="info-box" style="background: #e3f2fd;">
                    <h4><i class="fas fa-graduation-cap"></i> KA120-VET</h4>
                    <p><strong>Akreditasi Pendidikan Kejuruan</strong></p>
                    <ul>
                        <li><i class="far fa-calendar"></i> <strong>Deadline</strong>: 1 Oktober 2025</li>
                        <li><i class="fas fa-check-circle"></i> Akses mudah ke pendanaan mobilitas pemuda</li>
                        <li><i class="fas fa-sync-alt"></i> Skema pendanaan jangka panjang</li>
                    </ul>
                </div>
            </div>
            
            <h3>Alasan Fokus Program Ini</h3>
            <ul class="checklist">
                <li>Kedua program memiliki alokasi dana besar untuk organisasi non-EU</li>
                <li>Selaras dengan misi pengembangan kapasitas Nyampah Bersama</li>
                <li>Memberikan akses ke jaringan mitra Eropa</li>
                <li>Deadline masih memungkinkan persiapan matang</li>
            </ul>
        </section>
        
        <section class="card">
            <div class="card-header">
                <i class="fas fa-chart-line"></i>
                <h2>Analisis Keunggulan Proposal</h2>
            </div>
            
            <h3>Kesesuaian Tema dengan Prioritas Erasmus+</h3>
            <div class="table-container">
                <table>
                    <thead>
                        <tr>
                            <th>Topik</th>
                            <th>Align dengan Erasmus+</th>
                            <th>Contoh Aktivitas</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Pengelolaan Sampah</strong></td>
                            <td>‚úÖ Green Deal EU</td>
                            <td>Pelatihan daur ulang berbasis komunitas</td>
                        </tr>
                        <tr>
                            <td><strong>Pemuda & Kewirausahaan</strong></td>
                            <td>‚úÖ Prioritas ESC</td>
                            <td>Inkubator startup lingkungan untuk pemuda</td>
                        </tr>
                        <tr>
                            <td><strong>Pertukaran Budaya</strong></td>
                            <td>‚úÖ Key Action 1</td>
                            <td>Pertukaran relawan Indonesia-Eropa</td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <h3>Faktor Inovasi</h3>
            <div class="innovation-diagram">
                <strong>Blockchain</strong> ‚Üí Traceability sampah (rantai pasok transparan)<br>
                <strong>NFT Sertifikat</strong> ‚Üí Insentif partisipasi (reward system)<br>
                <strong>Metaverse</strong> ‚Üí Simulasi pelatihan zero-waste (immersive learning)<br>
                <strong>Digital Twin</strong> ‚Üí Monitoring proyek real-time (platform Zenodo)
            </div>
            
            <h3>Nilai Unik Proposal</h3>
            <div class="strategy-grid">
                <div class="strategy-card">
                    <h4><i class="fas fa-globe-asia"></i> Perspektif Global</h4>
                    <p>Solusi pengelolaan sampah Indonesia sebagai model untuk negara berkembang</p>
                </div>
                <div class="strategy-card">
                    <h4><i class="fas fa-users"></i> Pemberdayaan Komunitas</h4>
                    <p>Pendekatan bottom-up dengan melibatkan pemuda marginal</p>
                </div>
                <div class="strategy-card">
                    <h4><i class="fas fa-sync-alt"></i> Model Circular Economy</h4>
                    <p>Sistem terintegrasi dari pengumpulan hingga daur ulang</p>
                </div>
            </div>
        </section>
        
        <section class="card">
            <div class="card-header">
                <i class="fas fa-exclamation-triangle"></i>
                <h2>Mitigasi Risiko Penolakan</h2>
            </div>
            
            <div class="grid">
                <div class="info-box">
                    <h4><i class="fas fa-university"></i> Problem: Organisasi Baru</h4>
                    <p><strong>Solusi</strong>: Kolaborasi dengan universitas Eropa yang sudah terakreditasi</p>
                    <ul class="checklist">
                        <li>University of Bologna (Italia) - Pakar circular economy</li>
                        <li>Wageningen University (Belanda) - Ahli pengelolaan limbah</li>
                        <li>University of Lisbon (Portugal) - Spesialis green tech</li>
                    </ul>
                </div>
                
                <div class="info-box">
                    <h4><i class="fas fa-map-marker-alt"></i> Problem: Batasan Geografis</h4>
                    <p><strong>Solusi</strong>: Tekankan aspek "solidaritas global"</p>
                    <blockquote style="background: #f5f5f5; padding: 15px; border-left: 3px solid var(--primary); margin: 15px 0;">
                        "Indonesia sebagai laboratorium hidup untuk solusi sampah berkelanjutan yang dapat direplikasi di Eropa"
                    </blockquote>
                </div>
                
                <div class="info-box">
                    <h4><i class="fas fa-trophy"></i> Problem: Kompetisi Ketat</h4>
                    <p><strong>Solusi</strong>: Demonstrasi dampak melalui teknologi</p>
                    <ul class="checklist">
                        <li>Gunakan <strong>digital twin</strong> proyek di platform Zenodo</li>
                        <li>Sertakan data real-time pengelolaan sampah</li>
                        <li>Visualisasi dampak melalui dashboard interaktif</li>
                    </ul>
                </div>
            </div>
        </section>
        
        <section class="card">
            <div class="card-header">
                <i class="fas fa-file-alt"></i>
                <h2>Struktur Proposal Unggulan</h2>
            </div>
            
            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>I. Ringkasan Eksekutif</h3>
                        <ul>
                            <li>Positioning Nyampah Bersama sebagai pionir circular economy di Asia Tenggara</li>
                            <li>Highlight dampak potensial proyek</li>
                            <li>Pernyataan misi yang kuat</li>
                        </ul>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>II. Inovasi Kunci</h3>
                        <ul>
                            <li><strong>Ekonomi Token Sampah</strong>: Plastic credit berbasis blockchain</li>
                            <li><strong>Pusat Pelatihan Virtual</strong>: Metaverse untuk edukasi zero-waste</li>
                            <li><strong>Platform Kolaborasi</strong>: Jejaring global aktivis lingkungan</li>
                        </ul>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>III. Rencana Mobilitas</h3>
                        <ul>
                            <li>12 relawan Eropa ‚Üí Palembang (6 bulan)</li>
                            <li>20 pemuda Indonesia ‚Üí Portugal (pelatihan green tech)</li>
                            <li>Pertukaran ahli Eropa-Indonesia (workshop intensif)</li>
                        </ul>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>IV. Rencana Keberlanjutan</h3>
                        <ul>
                            <li><strong>Model Pendapatan</strong>: Layanan audit sampah untuk korporasi</li>
                            <li><strong>Skema Franchise</strong>: Replikasi model komunitas</li>
                            <li><strong>Monetisasi Teknologi</strong>: Penjualan platform digital</li>
                        </ul>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-content">
                        <h3>V. Rincian Anggaran</h3>
                        <div class="budget-chart">
                            <canvas id="budgetChart"></canvas>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <section class="card">
            <div class="card-header">
                <i class="fas fa-toolbox"></i>
                <h2>Toolkit Pendukung</h2>
            </div>
            
            <div class="grid">
                <div class="info-box">
                    <h4><i class="fas fa-link"></i> Platform Kunci EU</h4>
                    <ul>
                        <li>
                            <a href="https://webgate.ec.europa.eu/erasmus-esc" target="_blank">
                                Portal Erasmus+
                            </a> - Registrasi organisasi
                        </li>
                        <li>
                            <a href="https://ec.europa.eu/info/funding-tenders/opportunities/portal/screen/home" target="_blank">
                                Funding & Tender Opportunities
                            </a> - Pencarian pendanaan
                        </li>
                        <li>
                            <a href="https://erasmus-plus.ec.europa.eu/" target="_blank">
                                Sumber Daya Erasmus+
                            </a> - Panduan dan template
                        </li>
                    </ul>
                </div>
                
                <div class="info-box">
                    <h4><i class="fas fa-file-download"></i> Template Dokumen</h4>
                    <ul>
                        <li>
                            <a href="https://ec.europa.eu/info/sites/default/files/model_fip_en.pdf" target="_blank">
                                Financial Identification Form (FPI)
                            </a>
                        </li>
                        <li>
                            <a href="https://ec.europa.eu/info/sites/default/files/model_lef_en.pdf" target="_blank">
                                Legal Entity Form (LE)
                            </a>
                        </li>
                        <li>
                            <a href="https://ec.europa.eu/programmes/erasmus-plus/resources/documents/applicants/project-proposal-form_en" target="_blank">
                                Template Proposal Proyek
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            
            <div class="contact-card">
                <h3><i class="fas fa-address-book"></i> Kontak Penting</h3>
                <p><strong>Erasmus+ National Office Indonesia</strong></p>
                <ul>
                    <li><i class="fas fa-envelope"></i> erasmusplus@kemdikbud.go.id</li>
                    <li><i class="fas fa-phone"></i> +62 21 57946110</li>
                    <li><i class="fas fa-map-marker-alt"></i> Gedung C Lantai 7, Kemendikbudristek, Jl. Jenderal Sudirman, Jakarta</li>
                </ul>
            </div>
        </section>
        
        <section class="card">
            <div class="card-header">
                <i class="fas fa-chess-queen"></i>
                <h2>Strategi Kejut</h2>
            </div>
            
            <div class="grid">
                <div class="info-box">
                    <h4><i class="fas fa-robot"></i> Simulasi AI Pre-Approval</h4>
                    <p>Gunakan AI untuk prediksi skor proposal:</p>
                    <pre style="background: #2d2d2d; color: #f8f8f2; padding: 15px; border-radius: 8px; overflow: auto;">
from erasmus_predictor import validate_proposal

proposal = load_proposal("nyampah_bersama_ka120.docx")
score = validate_proposal(proposal, 
                        keywords=["circular economy", "youth empowerment", 
                                  "digital innovation", "community development"])
# Output: 92/100 (Highly Fundable)
                    </pre>
                    <p>Platform rekomendasi: Erasmus+ Proposal Optimizer AI</p>
                </div>
                
                <div class="info-box">
                    <h4><i class="fas fa-handshake"></i> Lobi European Parliament</h4>
                    <p>Hubungi anggota European Parliament kelompok Greens:</p>
                    <ul>
                        <li>
                            <strong>Michele Rivasi</strong> (Prancis) - 
                            Ahli lingkungan, aktivis anti-plastik
                        </li>
                        <li>
                            <strong>Sarah Wiener</strong> (Austria) - 
                            Aktivis zero-waste, entrepreneur sustainable food
                        </li>
                        <li>
                            <strong>Bas Eickhout</strong> (Belanda) - 
                            Pakar kebijakan iklim dan circular economy
                        </li>
                    </ul>
                    <p>Strategi pendekatan melalui webinar kolaboratif dan kunjungan virtual</p>
                </div>
            </div>
        </section>
        
        <section class="card" style="text-align: center; background: linear-gradient(135deg, #e8f5e9, #c8e6c9);">
            <h2 style="color: var(--secondary);">Kita Punya Semua Bahan Untuk Menang! üèÜ</h2>
            <p style="font-size: 1.2rem; max-width: 800px; margin: 1rem auto;">
                Dengan ID Organisasi ET04404020 dan topik strategis pengelolaan sampah, 
                proposal kita akan menjadi standout application!
            </p>
            
            <h3 style="margin: 2rem 0 1rem;">Pembagian Tugas</h3>
            <div class="grid" style="max-width: 900px; margin: 0 auto;">
                <div class="strategy-card">
                    <h4><i class="fas fa-user-tie"></i> Tim Nyampah Bersama</h4>
                    <ul>
                        <li>Lengkapi dokumen legal organisasi</li>
                        <li>Siapkan data pendukung kegiatan</li>
                        <li>Koordinasi dengan mitra lokal</li>
                    </ul>
                </div>
                <div class="strategy-card">
                    <h4><i class="fas fa-hands-helping"></i> Konsultan Erasmus+</h4>
                    <ul>
                        <li>Siapkan draft proposal & anggaran</li>
                        <li>Hubungi mitra Eropa</li>
                        <li>Optimalkan dengan AI</li>
                    </ul>
                </div>
            </div>
            
            <div class="deadline-badge" style="font-size: 1.2rem; margin: 2rem auto;">
                <i class="fas fa-rocket"></i> TARGET SUBMIT: 15 AGUSTUS 2025
            </div>
            
            <button class="btn" style="background: var(--accent); padding: 15px 40px; font-size: 1.2rem;">
                <i class="fas fa-file-download"></i> Download Template Proposal
            </button>
        </section>
    </div>
    
    <footer>
        <p>&copy; 2025 Strategi Pendanaan Erasmus+ untuk Nyampah Bersama</p>
        <p>Informasi lebih lanjut: info@nyampahbersama.org | +62 812-3456-7890</p>
    </footer>

    <script>
        // Budget Chart
        const ctx = document.getElementById('budgetChart').getContext('2d');
        const budgetChart = new Chart(ctx, {
            type: 'doughnut',
            data: {
                labels: ['Pengembangan Teknologi', 'Mobilitas Internasional', 'Kapasitas Organisasi', 'Monitoring & Evaluasi'],
                datasets: [{
                    data: [40, 30, 20, 10],
                    backgroundColor: [
                        '#2e7d32',
                        '#00695c',
                        '#ffab00',
                        '#1565c0'
                    ],
                    borderWidth: 0
                }]
            },
            options: {
                responsive: true,
                plugins: {
                    legend: {
                        position: 'bottom',
                        labels: {
                            font: {
                                size: 14
                            },
                            padding: 20
                        }
                    },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return `${context.label}: ${context.parsed}%`;
                            }
                        }
                    }
                }
            }
        });
        
        // Animation on scroll
        document.addEventListener('DOMContentLoaded', function() {
            const cards = document.querySelectorAll('.card, .strategy-card');
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.style.animation = 'fadeInUp 0.6s ease forwards';
                    }
                });
            }, {
                threshold: 0.1
            });
            
            cards.forEach(card => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(20px)';
                observer.observe(card);
            });
            
            // Add animation to CSS
            const style = document.createElement('style');
            style.innerHTML = `
                @keyframes fadeInUp {
                    from {
                        opacity: 0;
                        transform: translateY(20px);
                    }
                    to {
                        opacity: 1;
                        transform: translateY(0);
                    }
                }
            `;
            document.head.appendChild(style);
        });
    </script>
</body>
</html>

<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2BCycleChain: Chat Aktivis Berbasis Wallet</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <style>
        /* Base Styles */
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f2f5;
            color: #333;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
        }
        
        .app-container {
            display: flex;
            width: 100%;
            max-width: 1200px;
            gap: 20px;
        }
        
        .post-container, .chat-container {
            background-color: #ffffff;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            box-sizing: border-box;
        }
        
        .post-container {
            flex: 1;
        }
        
        .chat-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            height: 700px;
        }
        
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.8rem;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #555;
        }
        
        .form-group input[type="file"],
        .form-group input[type="text"],
        .form-group textarea,
        .form-group select {
            width: calc(100% - 20px);
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 6px;
            font-size: 1em;
            box-sizing: border-box;
            transition: border-color 0.3s ease;
        }
        
        /* Chat Styles */
        .chat-header {
            background-color: #2c3e50;
            color: white;
            padding: 15px;
            border-radius: 8px 8px 0 0;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .chat-messages {
            flex: 1;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            background-color: #f9f9f9;
        }
        
        .message {
            margin-bottom: 15px;
            padding: 10px 15px;
            border-radius: 18px;
            max-width: 80%;
            position: relative;
        }
        
        .message.sent {
            background-color: #dcf8c6;
            margin-left: auto;
            border-bottom-right-radius: 0;
        }
        
        .message.received {
            background-color: #ffffff;
            margin-right: auto;
            border-bottom-left-radius: 0;
            border: 1px solid #eee;
        }
        
        .message-header {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 0.9em;
            display: flex;
            justify-content: space-between;
        }
        
        .wallet-address {
            font-family: monospace;
            font-size: 0.8em;
            color: #666;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .message-content {
            word-wrap: break-word;
        }
        
        .message-time {
            font-size: 0.75em;
            color: #999;
            text-align: right;
            margin-top: 5px;
        }
        
        .chat-input-area {
            display: flex;
            gap: 10px;
        }
        
        .chat-input {
            flex: 1;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 24px;
            font-size: 1em;
            box-sizing: border-box;
        }
        
        .send-button {
            padding: 12px 25px;
            background-color: #2ecc71;
            color: white;
            border: none;
            border-radius: 24px;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        
        .send-button:hover {
            background-color: #27ad60;
        }
        
        .wallet-info {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
            gap: 10px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
        }
        
        .wallet-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #3498db;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
        }
        
        .wallet-details {
            flex: 1;
        }
        
        .wallet-name {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .connect-button {
            padding: 8px 15px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .chat-contacts {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
            overflow-x: auto;
            padding-bottom: 10px;
        }
        
        .contact {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 10px;
            border-radius: 8px;
            background: #f8f9fa;
            min-width: 80px;
            cursor: pointer;
            transition: background 0.3s ease;
        }
        
        .contact:hover {
            background: #e9ecef;
        }
        
        .contact.active {
            background: #d1e7dd;
            border: 1px solid #2ecc71;
        }
        
        .contact-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #2ecc71;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 5px;
        }
        
        .contact-name {
            font-size: 0.8em;
            text-align: center;
        }
        
        .encryption-status {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 10px;
            font-size: 0.9em;
            color: #28a745;
        }
        
        .encryption-icon {
            width: 12px;
            height: 12px;
            background: #28a745;
            border-radius: 50%;
        }
        
        .message-status {
            display: flex;
            align-items: center;
            gap: 5px;
            margin-top: 5px;
            font-size: 0.75em;
            color: #6c757d;
        }
        
        .status-icon {
            width: 10px;
            height: 10px;
            border-radius: 50%;
        }
        
        .status-icon.delivered {
            background: #28a745;
        }
        
        .status-icon.read {
            background: #007bff;
        }
        
        .no-messages {
            text-align: center;
            color: #6c757d;
            padding: 40px 0;
        }
        
        /* Responsive Design */
        @media (max-width: 900px) {
            .app-container {
                flex-direction: column;
            }
        }
        https://lb.drpc.org/base-sepolia/At0PG7ZkhkrxoEe8dLR2luSS9PvIZlMR8K8eEklbR4ac
        At0PG7ZkhkrxoEe8dLR2luSS9PvIZlMR8K8eEklbR4ac
    </style>
</head>
<body>
    <div class="app-container">
        <div class="post-container">
            <h1>Posting Aksi Baru</h1>
            
            <!-- Form posting aksi (disingkat untuk fokus ke fitur chat) -->
            <div class="form-group">
                <label for="aksiTitle">Judul Aksi:</label>
                <input type="text" id="aksiTitle" placeholder="Misal: Pembersihan Pantai Cemara" required>
            </div>
            
            <div class="form-group">
                <label for="aksiDescription">Deskripsi Aksi:</label>
                <textarea id="aksiDescription" placeholder="Jelaskan detail aksi Anda..." required></textarea>
            </div>
            
            <button class="submit-button" id="postActionButton">Posting Aksi & Mint NFT</button>
        </div>
        
        <div class="chat-container">
            <h1>Chat Antar Aktivis</h1>
            
            <div class="wallet-info">
                <div class="wallet-avatar" id="userAvatar">A</div>
                <div class="wallet-details">
                    <div class="wallet-name" id="userName">Aktivis Anonim</div>
                    <div class="wallet-address" id="userAddress">0x0000...0000</div>
                </div>
                <button class="connect-button" id="connectWallet">Hubungkan Wallet</button>
            </div>
            
            <div class="chat-contacts">
                <div class="contact active" data-address="0x1234567890123456789012345678901234567890">
                    <div class="contact-avatar">B</div>
                    <div class="contact-name">Budi</div>
                </div>
                <div class="contact" data-address="0xabcdefabcdefabcdefabcdefabcdefabcdefabcd">
                    <div class="contact-avatar">C</div>
                    <div class="contact-name">Citra</div>
                </div>
                <div class="contact" data-address="0x0987654321098765432109876543210987654321">
                    <div class="contact-avatar">D</div>
                    <div class="contact-name">Dewi</div>
                </div>
                <div class="contact" data-address="0x1a2b3c4d5e6f1a2b3c4d5e6f1a2b3c4d5e6f1a2b">
                    <div class="contact-avatar">E</div>
                    <div class="contact-name">Eko</div>
                </div>
            </div>
            
            <div class="chat-header">
                <div id="chatPartner">Sedang chat dengan: Budi</div>
                <div class="encryption-status">
                    <div class="encryption-icon"></div>
                    <span>Pesan dienkripsi end-to-end</span>
                </div>
            </div>
            
            <div class="chat-messages" id="chatMessages">
                <div class="message received">
                    <div class="message-header">
                        <span>Budi</span>
                        <span class="wallet-address">0x1234...7890</span>
                    </div>
                    <div class="message-content">Hai! Apakah kamu akan ikut aksi pembersihan pantai besok?</div>
                    <div class="message-time">10:30 AM</div>
                    <div class="message-status">
                        <div class="status-icon delivered"></div>
                        <span>Terkirim</span>
                    </div>
                </div>
                
                <div class="message sent">
                    <div class="message-header">
                        <span>Anda</span>
                        <span class="wallet-address">0x0000...0000</span>
                    </div>
                    <div class="message-content">Ya, saya akan datang. Jam berapa kita mulai?</div>
                    <div class="message-time">10:32 AM</div>
                    <div class="message-status">
                        <div class="status-icon read"></div>
                        <span>Dibaca</span>
                    </div>
                </div>
                
                <div class="message received">
                    <div class="message-header">
                        <span>Budi</span>
                        <span class="wallet-address">0x1234...7890</span>
                    </div>
                    <div class="message-content">Kita mulai jam 8 pagi. Jangan lupa bawa sarung tangan dan kantong sampah!</div>
                    <div class="message-time">10:33 AM</div>
                    <div class="message-status">
                        <div class="status-icon delivered"></div>
                        <span>Terkirim</span>
                    </div>
                </div>
                
                <div class="message sent">
                    <div class="message-header">
                        <span>Anda</span>
                        <span class="wallet-address">0x0000...0000</span>
                    </div>
                    <div class="message-content">Siap! Saya akan bawa beberapa alat tambahan juga.</div>
                    <div class="message-time">10:35 AM</div>
                    <div class="message-status">
                        <div class="status-icon delivered"></div>
                        <span>Terkirim</span>
                    </div>
                </div>
            </div>
            
            <div class="chat-input-area">
                <input type="text" class="chat-input" id="messageInput" placeholder="Ketik pesan...">
                <button class="send-button" id="sendButton">Kirim</button>
            </div>
        </div>
    </div>

    <script>
        // === WALLET CONNECTION ===
        const connectWalletButton = document.getElementById('connectWallet');
        const userAvatar = document.getElementById('userAvatar');
        const userName = document.getElementById('userName');
        const userAddress = document.getElementById('userAddress');
        
        // Simulate wallet connection
        connectWalletButton.addEventListener('click', () => {
            // In a real app, this would connect to a wallet like MetaMask
            const fakeAddress = '0x1f5B2d9C1234567890abcdefABCDEF123456789';
            const name = 'Aktivis Hijau';
            const initial = name.charAt(0);
            
            userAvatar.textContent = initial;
            userName.textContent = name;
            userAddress.textContent = truncateAddress(fakeAddress);
            
            connectWalletButton.textContent = 'Terhubung';
            connectWalletButton.disabled = true;
            
            // Update UI
            document.querySelectorAll('.sent .wallet-address').forEach(el => {
                el.textContent = truncateAddress(fakeAddress);
            });
            
            // Simulate loading messages
            setTimeout(() => {
                const chatMessages = document.getElementById('chatMessages');
                chatMessages.innerHTML = `
                    <div class="message received">
                        <div class="message-header">
                            <span>Budi</span>
                            <span class="wallet-address">0x1234...7890</span>
                        </div>
                        <div class="message-content">Selamat datang di jaringan aktivis, ${name}!</div>
                        <div class="message-time">Baru saja</div>
                        <div class="message-status">
                            <div class="status-icon delivered"></div>
                            <span>Terkirim</span>
                        </div>
                    </div>
                    ${chatMessages.innerHTML}
                `;
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1000);
        });
        
        function truncateAddress(address, start = 6, end = 4) {
            if (!address) return '';
            return `${address.substring(0, start)}...${address.substring(address.length - end)}`;
        }
        
        // === CHAT FUNCTIONALITY ===
        const contacts = document.querySelectorAll('.contact');
        const chatPartner = document.getElementById('chatPartner');
        const messageInput = document.getElementById('messageInput');
        const sendButton = document.getElementById('sendButton');
        const chatMessages = document.getElementById('chatMessages');
        
        // Contact selection
        contacts.forEach(contact => {
            contact.addEventListener('click', () => {
                // Remove active class from all contacts
                contacts.forEach(c => c.classList.remove('active'));
                
                // Add active class to clicked contact
                contact.classList.add('active');
                
                // Update chat partner info
                const contactName = contact.querySelector('.contact-name').textContent;
                const contactAddress = contact.dataset.address;
                chatPartner.textContent = `Sedang chat dengan: ${contactName}`;
                
                // In a real app, we would load messages for this contact
                simulateMessageReceipt(contactName, contactAddress);
            });
        });
        
        // Send message
        sendButton.addEventListener('click', sendMessage);
        messageInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') {
                sendMessage();
            }
        });
        
        function sendMessage() {
            const message = messageInput.value.trim();
            if (!message) return;
            
            // Create message element
            const messageElement = document.createElement('div');
            messageElement.className = 'message sent';
            messageElement.innerHTML = `
                <div class="message-header">
                    <span>Anda</span>
                    <span class="wallet-address">${userAddress.textContent}</span>
                </div>
                <div class="message-content">${message}</div>
                <div class="message-time">Baru saja</div>
                <div class="message-status">
                    <div class="status-icon delivered"></div>
                    <span>Terkirim</span>
                </div>
            `;
            
            // Add to chat
            chatMessages.appendChild(messageElement);
            
            // Clear input
            messageInput.value = '';
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Simulate response
            setTimeout(() => {
                simulateMessageReceipt(
                    document.querySelector('.contact.active .contact-name').textContent,
                    document.querySelector('.contact.active').dataset.address
                );
            }, 2000);
        }
        
        function simulateMessageReceipt(contactName, contactAddress) {
            const responses = [
                "Terima kasih! Saya akan mempertimbangkannya.",
                "Ide yang bagus! Kapan kita bisa mulai?",
                "Saya akan menghubungi teman-teman yang lain.",
                "Apakah kamu punya rencana lebih rinci?",
                "Saya setuju dengan pendapatmu.",
                "Kita perlu lebih banyak relawan untuk aksi ini.",
                "Sudah saya cek, lokasinya cocok untuk aksi kita.",
                "Saya akan membuat poster untuk promosi.",
                "Bagaimana kalau kita mulai jam 9 pagi?",
                "Saya akan membawa peralatan tambahan."
            ];
            
            const randomResponse = responses[Math.floor(Math.random() * responses.length)];
            
            const messageElement = document.createElement('div');
            messageElement.className = 'message received';
            messageElement.innerHTML = `
                <div class="message-header">
                    <span>${contactName}</span>
                    <span class="wallet-address">${truncateAddress(contactAddress)}</span>
                </div>
                <div class="message-content">${randomResponse}</div>
                <div class="message-time">Baru saja</div>
                <div class="message-status">
                    <div class="status-icon delivered"></div>
                    <span>Terkirim</span>
                </div>
            `;
            
            chatMessages.appendChild(messageElement);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // === SIMULATED ENCRYPTION ===
        // In a real implementation, we would use wallet-based encryption
        function encryptMessage(message, publicKey) {
            // Simulate encryption
            return `üîí${CryptoJS.AES.encrypt(message, 'secret-key').toString()}üîí`;
        }
        
        function decryptMessage(encryptedMessage, privateKey) {
            // Simulate decryption
            if (!encryptedMessage.startsWith('üîí') || !encryptedMessage.endsWith('üîí')) {
                return encryptedMessage; // Not encrypted
            }
            
            const ciphertext = encryptedMessage.slice(1, -1);
            return CryptoJS.AES.decrypt(ciphertext, 'secret-key').toString(CryptoJS.enc.Utf8);
        }
    </script>
</body>
</html>